function $parcel$export(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}function $parcel$interopDefault(e){return e&&e.__esModule?e.default:e}var $parcel$global="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},$parcel$modules={},$parcel$inits={},parcelRequire=$parcel$global.parcelRequireb612;null==parcelRequire&&(parcelRequire=function(e){if(e in $parcel$modules)return $parcel$modules[e].exports;if(e in $parcel$inits){var t=$parcel$inits[e];delete $parcel$inits[e];var r={id:e,exports:{}};return $parcel$modules[e]=r,t.call(r.exports,r,r.exports),r.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n},parcelRequire.register=function(e,t){$parcel$inits[e]=t},$parcel$global.parcelRequireb612=parcelRequire),parcelRequire.register("fiA0N",(function(e,t){var r,n;$parcel$export(e.exports,"register",(function(){return r}),(function(e){return r=e})),$parcel$export(e.exports,"resolve",(function(){return n}),(function(e){return n=e}));var a={};r=function(e){for(var t=Object.keys(e),r=0;r<t.length;r++)a[t[r]]=e[t[r]]},n=function(e){var t=a[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),parcelRequire.register("lDOPP",(function(module,exports){var $gmGs0=parcelRequire("gmGs0"),$ktVaQ=parcelRequire("ktVaQ"),$lodVU=parcelRequire("lodVU"),$36WE7=parcelRequire("36WE7"),$fH3MG=parcelRequire("fH3MG");const OBFUSCATED_FORMSPREE_ENDPOINT="aHR0cHM6Ly9mb3Jtc3ByZWUuaW8vZi9tYmp3cGRwdw==",DATA_URL="https://devious-digitizer-data.netlify.app/",cloneTemplate=(0,$lodVU.cloneTemplateFrom)(document);customElements.define("closing-details",$ktVaQ.ClosingDetails,{extends:"details"}),customElements.define("tab-panel",$ktVaQ.TabPanel),customElements.define("tab-group",$ktVaQ.TabGroup),customElements.define("tag-list",$ktVaQ.TagList,{extends:"ul"}),customElements.define("modal-overlay",$ktVaQ.ModalOverlay),customElements.define("dialog-prompt",$ktVaQ.DialogPrompt),customElements.define("toast-box",$ktVaQ.Toast),document.getElementById("landing_feedback_link").addEventListener("click",(e=>document.body.append(feedback(null,null,null,navigator.userAgent)))),document.getElementById("landing_privacy_link").addEventListener("click",(e=>document.body.append(privacy()))),document.getElementById("file_select").addEventListener("change",(e=>switchToStory(e.target.files[0])));const dragDropOverlay=document.getElementById("drag_drop_overlay");function toast(e,t=3,r=1){const n=document.createElement("toast-box");return n.setAttribute("text",e),n.setAttribute("linger-time",t),n}async function askToConfirm(e){return new Promise(((t,r)=>{const n=e=>r=>{r.target==r.currentTarget&&(r.target.dispatchEvent($ktVaQ.ModalOverlay.closeRequest),t(e))},a=cloneTemplate("confirmation_template"),o=a.querySelector(".confirm_prompt");o.textContent=(0,$lodVU.substituteText)(o.textContent,{filename:e}),a.querySelector("modal-overlay").addEventListener("click",n(!1)),a.querySelector(".cancel").addEventListener("click",n(!1)),a.querySelector(".try_anyway").addEventListener("click",n(!0)),document.body.append(a)}))}function sidebarMenu(e,t,r,n){const a=cloneTemplate("sidebar_menu_template");return a.querySelector(".settings_link").addEventListener("click",(e=>document.body.append(settings(t.history[0].passage.title,r)))),a.querySelector(".feedback_link").addEventListener("click",(a=>document.body.append(feedback(e,t,r,n)))),a.querySelector(".privacy_link").addEventListener("click",(e=>document.body.append(privacy()))),a}function settings(e,t){const r=cloneTemplate("settings_template"),n=e=>{e.target==e.currentTarget&&e.target.dispatchEvent($ktVaQ.ModalOverlay.closeRequest)};r.querySelector("modal-overlay").addEventListener("click",n),r.querySelector(".close_settings").addEventListener("click",n);const a=r.querySelector(".tag_editor");return a.value=gatherTags(e,t).join(" "),r.querySelector(".save_tags").addEventListener("click",(r=>{const n=t.get(e);n&&(n.modifiedTags=a.value.split(" ")),document.body.append(toast("tags saved!",2))})),r.querySelector(".export_metadata").addEventListener("click",(e=>(0,$lodVU.exportObject)(extractMetadata(t),"metadata.json"))),r}let feedbackForm;function buildFeedback(){const e=cloneTemplate("feedback_template"),t=e=>{e.target==e.currentTarget&&e.target.dispatchEvent($ktVaQ.ModalOverlay.closeRequest)};e.querySelector("modal-overlay").addEventListener("click",t),e.querySelector(".close_feedback").addEventListener("click",t);const r=e.querySelector(".debug_info"),n=e.querySelector(".include_debug_info");n.addEventListener("change",(e=>{r.disabled=!n.checked}));const a=e=>t=>{t.preventDefault();const a=`${e}-${(0,$gmGs0.nanoid)(6)}`;r.disabled=!n.checked;const o=new FormData(t.target);o.append("id",a);const i=`Devious Digitizer Feedback ${a}`,s=[...o.entries()].map((([e,t])=>`${e}: ${t}`)).join("\n\n");document.body.append(feedbackPreview(i,s,t.target))};return e.querySelector(".bug_report").addEventListener("submit",a("BUG")),e.querySelector(".feature_request").addEventListener("submit",a("REQ")),e.querySelector(".help_request").addEventListener("submit",a("HLP")),e.querySelector(".submit_tags").addEventListener("submit",a("TAG")),e}function feedback(e,t,r,n){return null!=feedbackForm||(feedbackForm=buildFeedback().firstChild),feedbackForm.querySelector(".debug_info").textContent=gatherDebugInfo(e,t,n),null!==r&&(feedbackForm.querySelector(".tag_changes").textContent=gatherTagChanges(r)),feedbackForm}function feedbackPreview(e,t,r){const n=cloneTemplate("feedback_preview_template");n.querySelector(".subject").textContent=e,n.querySelector(".body").textContent=t;const a=e=>{e.target==e.currentTarget&&e.target.dispatchEvent($ktVaQ.ModalOverlay.closeRequest)};return n.querySelector("modal-overlay").addEventListener("click",a),n.querySelector(".cancel").addEventListener("click",a),n.querySelector(".submit").addEventListener("click",(n=>{(0,$lodVU.encryptMessage)($parcel$interopDefault($36WE7),t).then((t=>sendFormspree(e,t))).then((e=>{r.reset(),n.target.dispatchEvent($ktVaQ.ModalOverlay.closeRequest),document.body.append(toast("feedback sent successfully ^_^"))})).catch((e=>alert(`something went wrong:\n${e}`)))})),n}function privacy(){const e=cloneTemplate("privacy_template"),t=e=>{e.target==e.currentTarget&&e.target.dispatchEvent($ktVaQ.ModalOverlay.closeRequest)};return e.querySelector("modal-overlay").addEventListener("click",t),e.querySelector(".close_privacy").addEventListener("click",t),e}function retrospective(e,t,r){var n,a;const o=cloneTemplate("retrospective_template");var i;return o.querySelector(".choice--current").innerText=null!==(i=null===(n=t.get(e))||void 0===n||null===(a=n.link)||void 0===a?void 0:a.text)&&void 0!==i?i:"",o.querySelector(".past_passages").ontoggle=n=>{var a;n.target.open&&(n.target.ontoggle=null,n.target.prepend(...t.getAncestryOf(e).map((e=>{var n,o;return pastPassage(null!==(a=null===(n=t.get(e))||void 0===n||null===(o=n.link)||void 0===o?void 0:o.text)&&void 0!==a?a:"Start",r.get(e))}))))},o}function pastPassage(e,t){const r=cloneTemplate("past_passage_template");return r.querySelector(".choice--past").innerText=e,r.querySelector(".past_passage__text").append(t.render().querySelector(".body.content")),r}function passageTagViewer(e){const t=cloneTemplate("tag_viewer_template");return t.querySelector(".tag_list").tags(e),t}function inlineTagViewer(e,t){const r=cloneTemplate("inline_tag_viewer_template");return r.querySelector(".tag_list--passage").tags(e),r.querySelector(".tag_list--route").tags(t),r}function gatherTags(e,t,r=!1){var n,a,o,i,s,l;return r?(0,$lodVU.arrayUnique)($lodVU.Tree.cata(t,e,(e=>(null!==(l=null!==(s=e.modifiedTags)&&void 0!==s?s:e.tags)&&void 0!==l?l:[]).concat(...e.children)))):null!==(i=null!==(o=null===(n=t.get(e))||void 0===n?void 0:n.modifiedTags)&&void 0!==o?o:null===(a=t.get(e))||void 0===a?void 0:a.tags)&&void 0!==i?i:[]}async function sendFormspree(e,t){const r=new FormData;r.append("subject",e),r.append("body",t);const n=await fetch(atob(OBFUSCATED_FORMSPREE_ENDPOINT),{method:"POST",body:r,headers:{Accept:"application/json"}});if(!n.ok){const e="There was a problem while trying to send your feedback. Please try again in a moment.",t=await n.json();throw Object.hasOwn(t,"errors")?new Error(e+t.errors.map((e=>e.message)).join(", ")):new Error(e)}}function gatherDebugInfo(e,t,r){return JSON.stringify({userAgent:r,deviousVersion:null==e?void 0:e.title,currentPassage:t?t.history[0].passage.title:null},null,2)}function gatherTagChanges(e){return JSON.stringify(Object.fromEntries([...e].filter((([e,t])=>t.hasOwnProperty("modifiedTags"))).map((([e,t])=>[e,t.modifiedTags]))),null,2)}async function switchToStory(e){const t=await e.text(),r=(0,$lodVU.parseDoc)(t);if(!r.querySelector('#storeArea > [tiddler = "CharGenMain"]')){if(!await askToConfirm(e.name))return}hideLanding(),loadDocIntoDom(r),await injectDigitizerFeatures()}function hideLanding(){document.querySelector(".digitizer-landing").classList.add("digitizer-landing--inactive")}function loadDocIntoDom(doc){document.head.insertAdjacentHTML("beforeend",doc.head.innerHTML),document.body.insertAdjacentHTML("beforeend",doc.body.innerHTML),document.head.querySelectorAll("script").forEach((s=>eval(s.text))),dispatchEvent(new Event("load"))}async function injectDigitizerFeatures(){const e=document.getElementById("storeArea"),t=document.getElementById("passages"),r=window.tale,n=window.state,a=["allstarstart","youngpunkstart","quietonestart","runawaystart","GwynStart","BuddyStart","AustinStart","DavidStart","JackStart","MikeStart","ThaddeusStart","SweetKidStart","MeanGirlStart","GirlGamerStart","SelfSufficientStart","CallistaStart","BritStart","WilmaStart","HollyStart","CelesteStart","HelenStart","MareiStart","IreneStart"].some(r.has,r)?"DW_metadata.json":["CaliburnStart","DefianceStart","EdithStart","FionaStart","IrethStart","KaiStart","KiaraStart","KonkoStart","LeoStart","MaxiaStart","NicholasStart","SimoneStart","SiphaStart","ValerieStart","YamiStart"].some(r.has,r)?"DM_metadata.json":(0,$lodVU.err)("Story is neither Worldly nor Mundane"),o=await fetch(DATA_URL+a).then((e=>e.json())),i=buildPassageGraph(e),s=$lodVU.Tree.fromGraphBfs(((e,t)=>i.forEachLinkedNode(t,((t,r)=>e(t.id,Object.assign({link:r.data},t.data))),!0)),"CharGenMain");s.forEach(((e,t)=>s.set(t,Object.assign(e,o[t])))),window.state.display=function(e,r,n,a){t.dispatchEvent(new CustomEvent("before_tale_display",{detail:{title:e,source:r,type:n,callback:a}})),Object.getPrototypeOf(window.state).display.apply(this,[e,r,n,a]),t.dispatchEvent(new CustomEvent("after_tale_display",{detail:{title:e,source:r,type:n,callback:a}}))},t.addEventListener("after_tale_display",(e=>{const n=e.detail.title;s.has(n)&&(t.prepend(passageTagViewer(gatherTags(n,s))),s.get(n).parent&&t.prepend(retrospective(n,s,r)))})),t.addEventListener("after_tale_display",(e=>annotateLinksWithTheirTarget(e.detail.title,r,t.querySelector(".passage.transition-in > .body")))),t.addEventListener("after_tale_display",(e=>addLinkTagLists(t.querySelector(".passage.transition-in > .body"),s))),document.getElementById("sidebar").append(sidebarMenu(r,n,s,navigator.userAgent))}document.body.addEventListener("dragenter",(e=>{e.preventDefault()})),document.body.addEventListener("dragover",(e=>e.preventDefault())),document.body.addEventListener("dragleave",(e=>{})),document.body.addEventListener("drop",(e=>{e.preventDefault(),e.stopPropagation(),e.dataTransfer.files&&switchToStory(e.dataTransfer.files[0])}));const getLinks=e=>Array.from(e.matchAll(/\[\[(?:([^|]+)\|)?([^\]]+)\]\]/g)).map((([e,t,r])=>({text:t,target:r})));function buildPassageGraph(e){const t=$fH3MG(),r=new Set(Array.from(e.children).map((e=>e.getAttribute("tiddler"))));for(const n of e.children){const e=n.getAttribute("tiddler");for(const{text:a,target:o}of getLinks(n.innerText))r.has(o)&&t.addLink(e,o,{text:a})}return t}function annotateLinksWithTheirTarget(e,t,r){const n=getLinks(t.get(e).text).map((({target:e})=>e)),a=Array.from(r.querySelectorAll("a"));for(const[e,t]of(0,$lodVU.take)(100,(0,$lodVU.zip)([a,n])))e.setAttribute("data-target",t)}function addLinkTagLists(e,t){e.querySelectorAll("a[data-target]").forEach((e=>{const r=e.getAttribute("data-target");t.has(r)&&e.before(inlineTagViewer(gatherTags(r,t,!1),gatherTags(r,t,!0)))}))}function extractMetadata(e){const t=new Set(["tags","modifiedTags"]),r=e=>(0,$lodVU.filterObjectByKey)(e,(e=>t.has(e)));return e.toObject((([e,t])=>[e,r(t)]))}})),parcelRequire.register("gmGs0",(function(e,t){$parcel$export(e.exports,"nanoid",(function(){return r}));parcelRequire("hHq9a");let r=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"),"")})),parcelRequire.register("hHq9a",(function(e,t){})),parcelRequire.register("ktVaQ",(function(e,t){$parcel$export(e.exports,"ClosingDetails",(function(){return d})),$parcel$export(e.exports,"TabPanel",(function(){return p})),$parcel$export(e.exports,"TabGroup",(function(){return f})),$parcel$export(e.exports,"TagList",(function(){return g})),$parcel$export(e.exports,"ModalOverlay",(function(){return h})),$parcel$export(e.exports,"DialogPrompt",(function(){return v})),$parcel$export(e.exports,"Toast",(function(){return m}));var r=parcelRequire("lsFtg");parcelRequire("93MWr");var n=parcelRequire("6woeQ"),a=parcelRequire("gmGs0"),o=parcelRequire("lodVU"),i=parcelRequire("cgW0f"),s=parcelRequire("eEy6s");const{stream:l}=$parcel$interopDefault(i),c=(e,t)=>$parcel$interopDefault(i).combine(t,e),u=(e,t,r)=>(0,o.pipe)(e,s.dropRepeats,$parcel$interopDefault(i).on((e=>r.getAttribute(t)===e?null:r.setAttribute(t,e))));class d extends HTMLDetailsElement{connectedCallback(){document.body.addEventListener("mousedown",this._closeIfUnfocused)}disconnectedCallback(){document.body.removeEventListener("mousedown",this._closeIfUnfocused)}constructor(){super(),this._closeIfUnfocused=e=>{this.contains(document.elementFromPoint(e.clientX,e.clientY))||(this.open=!1)}}}class p extends HTMLElement{connectedCallback(){var e;this.title(null!==(e=this.getAttribute("title"))&&void 0!==e?e:""),this.group(this.parentElement instanceof f?this.parentElement:null),this.id=this.id||(0,a.nanoid)(10)}static get observedAttributes(){return["id","title"]}attributeChangedCallback(e,t,r){"id"===e?this.idChanged(null):"title"===e&&this.title(r)}constructor(){super(),(0,r.default)(this,"idChanged",l(null)),(0,r.default)(this,"title",l()),(0,r.default)(this,"_onTitleChanged",u(this.title,"title",this)),(0,r.default)(this,"group",l()),(0,r.default)(this,"active",c([this.group.chain((e=>null==e?void 0:e.active)),this.idChanged],((e,t)=>{const r=e()===this.id;return(0,o.setClass)(this,"active",r),r}))),this.attachShadow({mode:"open"}),this.shadowRoot.append((0,n.default)("style",null,":host {display: none;} :host(.active) {display: block;}"),(0,n.default)("div",{role:"tabpanel"},(0,n.default)("slot")))}}class f extends HTMLElement{static get observedAttributes(){return["active"]}attributeChangedCallback(e,t,r){"active"===e&&this.active(r)}constructor(){super(),(0,r.default)(this,"defaultTabTitle",""),(0,r.default)(this,"tabs",l()),(0,r.default)(this,"active",l(null)),(0,r.default)(this,"_onActiveChanged",u(this.active,"active",this)),(0,r.default)(this,"renderTabList",c([this.tabs,this.active],((e,t)=>{var r;e().some((e=>e.id===t()))?this.shadowRoot.getElementById("tablist").replaceChildren(...e().map((e=>(0,n.default)("li",{class:"tab"+(t()===e.id?" active":""),onclick:()=>this.active(e.id),"aria-controls":e.id,role:"tab"},e.title()||this.defaultTabTitle)))):this.active(null===(r=e()[0])||void 0===r?void 0:r.id)}))),this.attachShadow({mode:"open"}),this.shadowRoot.append((0,n.default)("style",null,"\n                #tabgroup { display: flex; flex-flow: var(--tabs-position, column) nowrap; gap: var(--tablist-gap, 0); }\n                #tablist { display: flex; flex-flow: var(--tabs-flow, row wrap); align-items: var(--tab-align); margin: 0;\n                    padding: 0; gap: var(--tabs-gap, .5em); }\n                .tab { display: block; background: var(--tab-background); cursor: var(--tab-cursor); padding: var(--tab-padding);\n                    border: var(--tab-border); border-style: var(--tab-border-style); border-color: var(--tab-border-color);\n                    border-width: var(--tab-border-width); border-radius: var(--tab-border-radius); }\n                .tab.active { background: var(--tab-active-background); border: var(--tab-active-border);\n                    border-style: var(--tab-active-border-style); border-color: var(--tab-active-border-color);\n                    border-width: var(--tab-active-border-width); border-radius: var(--tab-active-border-radius); }"),(0,n.default)("div",{part:"tabgroup",role:"wrapper",id:"tabgroup"},[(0,n.default)("slot"),(0,n.default)("menu",{part:"tablist",role:"tablist",id:"tablist"})])),this.shadowRoot.querySelector("slot").addEventListener("slotchange",(e=>this.tabs(e.target.assignedElements().filter((e=>e instanceof p)))))}}class g extends HTMLUListElement{connectedCallback(){this.connected(!0)}constructor(...e){super(...e),(0,r.default)(this,"connected",l()),(0,r.default)(this,"tags",l([])),(0,r.default)(this,"render",c([this.tags,this.connected],(e=>this.replaceChildren(...e().sort().map((e=>(0,n.default)("li",{class:"tag_list__tag"},e)))))))}}class h extends HTMLElement{open(e){e.appendChild(this._overlay)}close(){this.remove()}constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.append((0,n.default)("style",null,"\n                #overlay {\n                    display: var(--overlay-display, flex); flex-flow: column nowrap; justify-content: safe center;\n                    align-items: center;\n\n                    position: fixed; z-index: 1; left: 0; top: 0; width: 100%; height: 100%;\n                    overflow: auto;\n\n                    background-color: var(--overlay-color, rgba(0,0,0,0.4));\n                }"),(0,n.default)("div",{id:"overlay"},[(0,n.default)("slot")])),this.addEventListener("request_overlay_close",(e=>{e.stopPropagation(),this.close()}))}}(0,r.default)(h,"closeRequest",new Event("request_overlay_close",{bubbles:!0,cancelable:!0}));class v extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.append((0,n.default)("style",null,"\n                #dialog {\n                    background-color: var(--dialog-color, grey); padding: var(--dialog-padding, 2em);\n                    border: var(--dialog-border); border-radius: var(--dialog-border-radius);\n                }\n\n                #buttons {\n                    display: flex; flex-flow: row wrap; justify-content: space-around;\n                    align-items: center; align-content: space-around; border: none;\n                }"),(0,n.default)("form",{id:"dialog",onsubmit:e=>!1},[(0,n.default)("slot",{name:"prompt"}),(0,n.default)("fieldset",{id:"buttons"},[(0,n.default)("slot",{name:"buttons"})])]))}}class m extends HTMLElement{connectedCallback(){const e=this.shadowRoot.getElementById("toast");e.textContent=this.getAttribute("text"),(0,o.sleep)(1e3*Number(this.getAttribute("linger-time"))).then((t=>e.classList.add("fade")))}constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.append((0,n.default)("style",null,"\n                @keyframes fadeOut {\n                    from {opacity: 1;}\n                    to {opacity: 0;}\n                }\n                \n                #toast {\n                    background-color: var(--toast-color, grey); padding: var(--toast-padding, 2em);\n                    border: var(--toast-border); border-radius: var(--toast-border-radius);\n                    position: fixed; z-index: 1; left: 50%; bottom: 25%; transform: -50%;\n                }\n                \n                #toast.fade {\n                    animation: fadeOut 1s ease-in;\n                }"),(0,n.default)("p",{id:"toast"})),this.shadowRoot.getElementById("toast").addEventListener("animationend",(e=>{"fadeOut"===e.animationName&&this.remove()}))}}})),parcelRequire.register("lsFtg",(function(e,t){function r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}$parcel$export(e.exports,"default",(function(){return r}))})),parcelRequire.register("93MWr",(function(e,t){$parcel$export(e.exports,"el",(function(){return parcelRequire("6woeQ").default}));parcelRequire("6woeQ"),parcelRequire("5fQny"),parcelRequire("5vTAX"),parcelRequire("1IN1y"),parcelRequire("5VDYt")})),parcelRequire.register("6woeQ",(function(e,t){$parcel$export(e.exports,"default",(function(){return a}));var r=parcelRequire("a8h9n"),n={id:!0,nodeValue:!0,textContent:!0,className:!0,innerHTML:!0,tabIndex:!0,value:!0};function a(e){for(var t=1===e.nodeType?e:document.createElement(e),a=1;a<arguments.length;++a){var o=arguments[a];if(null!=o)if(o.constructor&&o.constructor!==Object)if(Array.isArray(o))for(var i=0;i<o.length;++i)t.appendChild(o[i].nodeType?o[i]:document.createTextNode(o[i]));else t.appendChild(o.nodeType?o:document.createTextNode(o));else for(var s=0,l=Object.keys(o);s<l.length;++s){var c=l[s],u=o[c];"style"===c?t.style.cssText=u:"string"!=typeof u||n[c]?(t[c]=u,"o"===c[0]&&"n"===c[1]&&c.charCodeAt(2)<91&&c.charCodeAt(2)>64&&!r.default[c]&&(document.addEventListener(c.slice(2).toLowerCase(),(function(e){var t=e.target;do{if(t[c])return t[c](e)}while(t=t.parentNode)})),r.default[c]=!0)):t.setAttribute(c,u)}}return t}})),parcelRequire.register("a8h9n",(function(e,t){$parcel$export(e.exports,"default",(function(){return r}));var r={}})),parcelRequire.register("5fQny",(function(e,t){parcelRequire("a8h9n")})),parcelRequire.register("5vTAX",(function(e,t){})),parcelRequire.register("1IN1y",(function(e,t){})),parcelRequire.register("5VDYt",(function(e,t){})),parcelRequire.register("lodVU",(function(e,t){$parcel$export(e.exports,"setClass",(function(){return i})),$parcel$export(e.exports,"err",(function(){return s})),$parcel$export(e.exports,"sleep",(function(){return l})),$parcel$export(e.exports,"pipe",(function(){return c})),$parcel$export(e.exports,"zip",(function(){return u})),$parcel$export(e.exports,"take",(function(){return d})),$parcel$export(e.exports,"arrayUnique",(function(){return p})),$parcel$export(e.exports,"filterObjectByKey",(function(){return f})),$parcel$export(e.exports,"substituteText",(function(){return h})),$parcel$export(e.exports,"Tree",(function(){return v})),$parcel$export(e.exports,"cloneTemplateFrom",(function(){return m})),$parcel$export(e.exports,"parseDoc",(function(){return b})),$parcel$export(e.exports,"exportObject",(function(){return y})),$parcel$export(e.exports,"encryptMessage",(function(){return w}));var r=parcelRequire("lsFtg"),n=parcelRequire("7Vj6Q"),a=parcelRequire("jxdtM"),o=parcelRequire("oNJRK");const i=(e,t,r)=>r?e.classList.add(t):e.classList.remove(t),s=(...e)=>{throw new Error(...e)},l=e=>new Promise((t=>setTimeout(t,e))),c=(e,...t)=>t.reduce(((e,t)=>t(e)),e),u=e=>e[0].map(((t,r)=>e.map((e=>e[r]))));function*d(e,t){for(const r of t){if(e<1)break;yield r,e-=1}}const p=e=>Array.from(new Set(e));function f(e,t){return function(e,t){return Object.fromEntries(Object.entries(e).filter(t))}(e,(([e,r])=>t(e)))}var g;const h=(e,t)=>e.replaceAll(/{(\w+)}/g,((e,r)=>null!==(g=t[r])&&void 0!==g?g:e));class v extends Map{setRoot(e,t={}){if(null!==this.root)throw new Error(`root '${this.root}' already exists`);this.set(e,Object.assign(t,{children:[],parent:null})),this.root=e}addChild(e,t,r={}){var n,a,o;if(void 0!==this.get(t))throw new Error(`child ${t} already exists`);null!==(o=null===(n=this.get(e))||void 0===n||null===(a=n.children)||void 0===a?void 0:a.push(t))&&void 0!==o||s(`parent '${e}' does not exist or is malformed`),this.set(t,Object.assign(r,{children:[],parent:e}))}deleteNode(e){for(const t of this.get(e).children)this.deleteNode(t);this.delete(e)}toObject(e){return"function"==typeof e?Object.fromEntries(Array.from(this,e)):Object.fromEntries(this)}getAncestryOf(e){const t=[];let r=this.get(e).parent;for(;null!==r;)t.unshift(r),r=this.get(r).parent;return t}static cata(e,t=null,r){const o=t=>({node:t,before:[...e.get(t).children],after:[]}),i=[o(null!=t?t:e.root)];for(;;)if(i.at(-1).before.length)i.push(o(i.at(-1).before.pop()));else{const t=i.pop(),o=r((0,a.default)((0,n.default)({},e.get(t.node)),{children:t.after}));if(!i.length)return o;i.at(-1).after.push(o)}}static fromGraphBfs(e,t){const r=new v(t),n=[t],a=e=>(t,a={})=>{r.has(t)||(n.push(t),r.addChild(e,t,a))};for(;n.length>0;){const t=n.pop();e(a(t),t)}return r}constructor(e,t={}){super(),(0,r.default)(this,"root",null),e&&this.setRoot(e,t)}}const m=e=>t=>{const r=e.importNode(e.getElementById(t).content,!0);return Array.from(r.childNodes).forEach((e=>{("#text"===e.nodeName&&!e.nodeValue.trim()||"#comment"===e.nodeName)&&e.remove()})),r};function b(e){return(new DOMParser).parseFromString(e,"text/html")}function y(e,t){(0,o.saveAs)(new Blob([JSON.stringify(e)],{type:"application/json"}),t)}async function w(e,t){const{readKey:r,encrypt:n,createMessage:a}=await parcelRequire("chQ5n");return await n({message:await a({text:t}),encryptionKeys:await r({armoredKey:e})})}})),parcelRequire.register("7Vj6Q",(function(e,t){$parcel$export(e.exports,"default",(function(){return n}));var r=parcelRequire("lsFtg");function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){(0,r.default)(e,t,n[t])}))}return e}})),parcelRequire.register("jxdtM",(function(e,t){function r(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}$parcel$export(e.exports,"default",(function(){return r}))})),parcelRequire.register("oNJRK",(function(e,t){var r;e.exports,r=function(){function t(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){i(n.response,t,r)},n.onerror=function(){console.error("could not download file")},n.send()}function r(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function n(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(r){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof $parcel$global&&$parcel$global.global===$parcel$global?$parcel$global:void 0,o=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),i=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(e,o,i){var s=a.URL||a.webkitURL,l=document.createElement("a");o=o||e.name||"download",l.download=o,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?n(l):r(l.href)?t(e,o,i):n(l,l.target="_blank")):(l.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(l.href)}),4e4),setTimeout((function(){n(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,a,o){if(a=a||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,o),a);else if(r(e))t(e,a,o);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout((function(){n(i)}))}}:function(e,r,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return t(e,r,n);var s="application/octet-stream"===e.type,l=/constructor/i.test(a.HTMLElement)||a.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||s&&l||o)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},u.readAsDataURL(e)}else{var d=a.URL||a.webkitURL,p=d.createObjectURL(e);i?i.location=p:location.href=p,i=null,setTimeout((function(){d.revokeObjectURL(p)}),4e4)}});a.saveAs=i.saveAs=i,e.exports=i},"function"==typeof define&&define.amd?define([],r):r()})),parcelRequire.register("chQ5n",(function(e,t){e.exports=parcelRequire("akl07")(parcelRequire("bgfHF").getBundleURL("gOfOb")+parcelRequire("fiA0N").resolve("gwDts")).then((()=>parcelRequire("26wHK")))})),parcelRequire.register("akl07",(function(e,t){var r=parcelRequire("ex78I");e.exports=r((function(e){return new Promise((function(t,r){var n="i".concat((""+Math.random()).slice(2));$parcel$global[n]=function(e){t(e),a()};var a=function(){delete $parcel$global[n],o.onerror=null,o.remove()},o=document.createElement("script");o.async=!0,o.type="module",o.charset="utf-8",o.textContent="import * as m from '".concat(e,"'; ").concat(n,"(m);"),o.onerror=function(e){r(e),a()},document.head.appendChild(o)}))}))})),parcelRequire.register("ex78I",(function(e,t){var r={},n={},a={};function o(e){switch(e){case"preload":return n;case"prefetch":return a;default:return r}}e.exports=function(e,t){return function(r){var n=o(t);return n[r]?n[r]:n[r]=e.apply(null,arguments).catch((function(e){throw delete n[r],e}))}}})),parcelRequire.register("bgfHF",(function(e,t){var r;$parcel$export(e.exports,"getBundleURL",(function(){return r}),(function(e){return r=e}));var n={};function a(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}r=function(e){var t=n[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^)\n]+/g);if(e)return a(e[2])}return"/"}(),n[e]=t),t}})),parcelRequire.register("cgW0f",(function(e,t){var r=parcelRequire("1nYwi");function n(){return!0}var a,o=[],i=[],s=-1,l=!1,c=!1;var u={};function d(e,t){var r,a,o,i,s=k([],n);for(o=[],i=[],r=0;r<t.length;++r)void 0!==t[r]&&(o.push(t[r]),void 0!==t[r].end&&i.push(t[r].end));return(a=k(o,e)).depsChanged=[],a.fnArgs=a.deps.concat([a,a.depsChanged]),a.end=s,s.listeners.push(a),T(i,s),s.deps=i,q(a),a}function p(e,t){return d((function(t,r){r(e(t.val))}),[t])}function f(e){return p(e,this)}function g(e){return e(this)}function h(e){return v(e,this)}function v(e,t){var r=u.stream(1),n=u.on((function(){var e=r()-1;r(e),e<=0&&r.end(!0)}));n(t.end);var a=u.stream(),o=u.combine((function(t,o){a.end(!0);var i=e(t());r(r()+1),n(i.end),a=p(o,i)}),[t]);return u.endsOn(r.end,o),o}function m(e,t){return d((function(e,t,r){r(e.val(t.val))}),[t,e])}function b(e){return m(e,this)}function y(e){return m(this,e)}function w(){return"stream("+this.val+")"}function x(){function e(t){return 0===arguments.length?e.val:(S(t,e),e)}return e.hasVal=!1,e.val=void 0,e.updaters=[],e.listeners=[],e.queued=!1,e.end=void 0,e.ap=b,e["fantasy-land/map"]=e.map=f,e["fantasy-land/ap"]=y,e["fantasy-land/of"]=e.of=u.stream,e["fantasy-land/chain"]=e.chain=h,e.pipe=g,e.constructor=u.stream,e.toJSON=function(){return e.val},e.toString=w,e}function k(e,t){var r=x();return r.fn=t,r.deps=e,r.depsMet=!1,r.depsChanged=e.length>0?[]:void 0,r.shouldUpdate=!1,T(e,r),r}function q(e){var t;if((!(t=e).end||!0!==t.end.val)&&function(e){return!0===e.depsMet||function(e){return e.depsMet=e.deps.every((function(e){return e.hasVal})),e.depsMet}(e)}(e))if(void 0===a){a=e,e.depsChanged&&(e.fnArgs[e.fnArgs.length-1]=e.depsChanged);var r=e.fn.apply(e.fn,e.fnArgs);void 0!==r&&e(r),a=void 0,void 0!==e.depsChanged&&(e.depsChanged=[]),e.shouldUpdate=!1,!1===(l||c)&&R(),function(e){return e.listeners.some((function(e){return e.shouldUpdate}))}(e)&&(c?e.listeners.forEach((function(e){e.shouldUpdate&&$(q,e)})):e(e.val))}else $(q,e)}function E(e){var t,r=e.listeners;if(!1===e.queued){for(e.queued=!0,t=0;t<r.length;++t)E(r[t]);i[++s]=e}}function $(e,t){o.push(t),t.updaters.push(e),t.shouldUpdate=!0}function R(){for(l=!0;o.length>0;){var e=o.shift(),t=e.updaters.shift();t&&e.shouldUpdate&&t(e)}l=!1}function S(e,t){t.val=e,t.hasVal=!0,void 0===a?(c=!0,function(e){var t,r,n,a=e.listeners;for(t=0;t<a.length;++t)(n=a[t]).end===e?A(n):(void 0!==n.depsChanged&&n.depsChanged.push(e),n.shouldUpdate=!0,E(n));for(;s>=0;--s)!0===(r=i[s]).shouldUpdate&&q(r),r.queued=!1}(t),o.length>0&&R(),c=!1):a===t?function(e,t){var r,n;for(r=0;r<t.length;++r)(n=t[r]).end!==e?(void 0!==n.depsChanged&&n.depsChanged.push(e),n.shouldUpdate=!0):A(n)}(t,t.listeners):$((function(t){S(e,t)}),t)}function T(e,t){for(var r=0;r<e.length;++r)e[r].listeners.push(t)}function L(e,t){var r=t.indexOf(e);t[r]=t[t.length-1],t.length--}function O(e){for(var t=0;t<e.deps.length;++t)L(e,e.deps[t].listeners);e.deps.length=0}function A(e){void 0!==e.deps&&O(e),void 0!==e.end&&O(e.end)}function _(){}u.stream=function(e){var t=k([],n),r=x();return r.end=t,r.fnArgs=[],t.listeners.push(r),arguments.length>0&&r(e),r},u.stream["fantasy-land/of"]=u.stream.of=u.stream,u.combine=r(2,d),u.isStream=function(e){return!!((t=e)&&t.constructor&&t.call&&t.apply)&&"hasVal"in e;var t},u.immediate=function(e){return!1===e.depsMet&&(e.depsMet=!0,q(e)),e},u.endsOn=function(e,t){return O(t.end),e.listeners.push(t.end),t.end.deps.push(e),t},u.map=r(2,p),u.chain=r(2,v),u.ap=r(2,m),u.on=r(2,(function(e,t){return d((function(t){e(t.val)}),[t])})),u.scan=r(3,(function(e,t,r){var n=d((function(r,n){n(t=e(t,r.val))}),[r]);return n.hasVal||n(t),n})),u.merge=r(2,(function(e,t){var r=u.immediate(d((function(e,t,r,n){n[0]?r(n[0]()):e.hasVal?r(e.val):t.hasVal&&r(t.val)}),[e,t]));return u.endsOn(d((function(){return!0}),[e.end,t.end]),r),r})),u.transduce=r(2,(function(e,t){return e=e(new _),d((function(t,r){var n=e["@@transducer/step"](void 0,t.val);return n&&!0===n["@@transducer/reduced"]?(r.end(!0),n["@@transducer/value"]):n}),[t])})),u.curryN=r,u.fromPromise=function(e){var t=u.stream();return e.then((function(e){t(e),t.end(!0)})),t},u.flattenPromise=function(e){return d((function(e,t){e().then(t)}),[e])},_.prototype["@@transducer/init"]=function(){},_.prototype["@@transducer/result"]=function(){},_.prototype["@@transducer/step"]=function(e,t){return t},e.exports=u})),parcelRequire.register("1nYwi",(function(e,t){var r=parcelRequire("6eJYh"),n=parcelRequire("j78DI"),a=parcelRequire("1dUzI"),o=parcelRequire("fOv2B"),i=a((function(e,t){return 1===e?n(t):r(e,o(e,[],t))}));e.exports=i})),parcelRequire.register("6eJYh",(function(e,t){e.exports=function(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,r){return t.apply(this,arguments)};case 3:return function(e,r,n){return t.apply(this,arguments)};case 4:return function(e,r,n,a){return t.apply(this,arguments)};case 5:return function(e,r,n,a,o){return t.apply(this,arguments)};case 6:return function(e,r,n,a,o,i){return t.apply(this,arguments)};case 7:return function(e,r,n,a,o,i,s){return t.apply(this,arguments)};case 8:return function(e,r,n,a,o,i,s,l){return t.apply(this,arguments)};case 9:return function(e,r,n,a,o,i,s,l,c){return t.apply(this,arguments)};case 10:return function(e,r,n,a,o,i,s,l,c,u){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}})),parcelRequire.register("j78DI",(function(e,t){var r=parcelRequire("keqXc");e.exports=function(e){return function t(n){return 0===arguments.length||r(n)?t:e.apply(this,arguments)}}})),parcelRequire.register("keqXc",(function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]}})),parcelRequire.register("1dUzI",(function(e,t){var r=parcelRequire("j78DI"),n=parcelRequire("keqXc");e.exports=function(e){return function t(a,o){switch(arguments.length){case 0:return t;case 1:return n(a)?t:r((function(t){return e(a,t)}));default:return n(a)&&n(o)?t:n(a)?r((function(t){return e(t,o)})):n(o)?r((function(t){return e(a,t)})):e(a,o)}}}})),parcelRequire.register("fOv2B",(function(e,t){var r=parcelRequire("6eJYh"),n=parcelRequire("keqXc");e.exports=function e(t,a,o){return function(){for(var i=[],s=0,l=t,c=0;c<a.length||s<arguments.length;){var u;c<a.length&&(!n(a[c])||s>=arguments.length)?u=a[c]:(u=arguments[s],s+=1),i[c]=u,n(u)||(l-=1),c+=1}return l<=0?o.apply(this,i):r(l,e(t,i,o))}}})),parcelRequire.register("eEy6s",(function(e,t){var r;$parcel$export(e.exports,"dropRepeats",(function(){return r}),(function(e){return r=e}));var n=parcelRequire("cgW0f");function a(e,t){var r;return n.combine((function(t,n){n.hasVal&&e(t.val,r)||(n(t.val),r=t.val)}),[t])}function o(e,t){return e===t}r=function(e){return a(o,e)},n.curryN(2,a)})),parcelRequire.register("36WE7",(function(e,t){e.exports="-----BEGIN PGP PUBLIC KEY BLOCK-----\n\nxjMEYf8cKBYJKwYBBAHaRw8BAQdAHE6JBN/PRr/7ZLFhb5vLLrKSWJLXxNpG\nMbqVZccBAL3NOVdpY2tlZFdpdGNoNkBwcm90b25tYWlsLmNvbSA8V2lja2Vk\nV2l0Y2g2QHByb3Rvbm1haWwuY29tPsKPBBAWCgAgBQJh/xwoBgsJBwgDAgQV\nCAoCBBYCAQACGQECGwMCHgEAIQkQ4GeD5hotLgUWIQTKTXvpnWFrweQb09Dg\nZ4PmGi0uBSUaAP44QKmwpTeK+oioSWo3qY4TpfXcz7d4qi49tmADmb6G8QEA\n1FEUMJllc9Qq3xiACBY/O5XIXsAlLlu1cAe2vkNcKgTOOARh/xwoEgorBgEE\nAZdVAQUBAQdAPj3oEz8PeUhGvxXZ4CYy8ejL/SiS8gyWPlAI2f2RWn4DAQgH\nwngEGBYIAAkFAmH/HCgCGwwAIQkQ4GeD5hotLgUWIQTKTXvpnWFrweQb09Dg\nZ4PmGi0uBf9zAP9tggzcytwB2XGu2c50Pfa0IZSEEiWnhN2A7uQRtqAKNAD/\nRQPybgO7rHpk9XjjHvqk87NYWAkj2kCCgK5rK+cYjwk=\n=9jDO\n-----END PGP PUBLIC KEY BLOCK-----\n"})),parcelRequire.register("fH3MG",(function(e,t){e.exports=function(e){"uniqueLinkId"in(e=e||{})&&(console.warn("ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\nUse `multigraph` option instead\n","\n","Note: there is also change in default behavior: From now on each graph\nis considered to be not a multigraph by default (each edge is unique)."),e.multigraph=e.uniqueLinkId);void 0===e.multigraph&&(e.multigraph=!1);if("function"!=typeof Map)throw new Error("ngraph.graph requires `Map` to be defined. Please polyfill it before using ngraph");var t=new Map,l=[],c={},u=0,d=e.multigraph?function(e,t,r){var n=s(e,t),a=c.hasOwnProperty(n);if(a||R(e,t)){a||(c[n]=0);var o="@"+ ++c[n];n=s(e+o,t+o)}return new i(e,t,r,n)}:function(e,t,r){var n=s(e,t);return new i(e,t,r,n)},p=[],f=S,g=S,h=S,v=S,m={addNode:w,addLink:function(e,t,r){h();var n=x(e)||w(e),a=x(t)||w(t),i=d(e,t,r);l.push(i),o(n,i),e!==t&&o(a,i);return f(i,"add"),v(),i},removeLink:$,removeNode:k,getNode:x,getNodeCount:q,getLinkCount:E,getLinksCount:E,getNodesCount:q,getLinks:function(e){var t=x(e);return t?t.links:null},forEachNode:O,forEachLinkedNode:function(e,r,n){var a=x(e);if(a&&a.links&&"function"==typeof r)return n?function(e,r,n){for(var a=0;a<e.length;++a){var o=e[a];if(o.fromId===r&&n(t.get(o.toId),o))return!0}}(a.links,e,r):function(e,r,n){for(var a=0;a<e.length;++a){var o=e[a],i=o.fromId===r?o.toId:o.fromId;if(n(t.get(i),o))return!0}}(a.links,e,r)},forEachLink:function(e){var t,r;if("function"==typeof e)for(t=0,r=l.length;t<r;++t)e(l[t])},beginUpdate:h,endUpdate:v,clear:function(){h(),O((function(e){k(e.id)})),v()},hasLink:R,hasNode:x,getLink:R};return r(m),function(){var e=m.on;function t(){return m.beginUpdate=h=T,m.endUpdate=v=L,f=b,g=y,m.on=e,e.apply(m,arguments)}m.on=t}(),m;function b(e,t){p.push({link:e,changeType:t})}function y(e,t){p.push({node:e,changeType:t})}function w(e,r){if(void 0===e)throw new Error("Invalid node identifier");h();var n=x(e);return n?(n.data=r,g(n,"update")):(n=new a(e,r),g(n,"add")),t.set(e,n),v(),n}function x(e){return t.get(e)}function k(e){var r=x(e);if(!r)return!1;h();var n=r.links;if(n){r.links=null;for(var a=0;a<n.length;++a)$(n[a])}return t.delete(e),g(r,"remove"),v(),!0}function q(){return t.size}function E(){return l.length}function $(e){if(!e)return!1;var t=n(e,l);if(t<0)return!1;h(),l.splice(t,1);var r=x(e.fromId),a=x(e.toId);return r&&(t=n(e,r.links))>=0&&r.links.splice(t,1),a&&(t=n(e,a.links))>=0&&a.links.splice(t,1),f(e,"remove"),v(),!0}function R(e,t){var r,n=x(e);if(!n||!n.links)return null;for(r=0;r<n.links.length;++r){var a=n.links[r];if(a.fromId===e&&a.toId===t)return a}return null}function S(){}function T(){u+=1}function L(){0===(u-=1)&&p.length>0&&(m.fire("changed",p),p.length=0)}function O(e){if("function"!=typeof e)throw new Error("Function is expected to iterate over graph nodes. You passed "+e);for(var r=t.values(),n=r.next();!n.done;){if(e(n.value))return!0;n=r.next()}}};var r=parcelRequire("bS1IX");function n(e,t){if(!t)return-1;if(t.indexOf)return t.indexOf(e);var r,n=t.length;for(r=0;r<n;r+=1)if(t[r]===e)return r;return-1}function a(e,t){this.id=e,this.links=null,this.data=t}function o(e,t){e.links?e.links.push(t):e.links=[t]}function i(e,t,r,n){this.fromId=e,this.toId=t,this.data=r,this.id=n}function s(e,t){return e.toString()+"👉 "+t.toString()}})),parcelRequire.register("bS1IX",(function(e,t){e.exports=function(e){!function(e){if(!e)throw new Error("Eventify cannot use falsy object as events subject");for(var t=["on","fire","off"],r=0;r<t.length;++r)if(e.hasOwnProperty(t[r]))throw new Error("Subject cannot be eventified, since it already has property '"+t[r]+"'")}(e);var t=function(e){var t=Object.create(null);return{on:function(r,n,a){if("function"!=typeof n)throw new Error("callback is expected to be a function");var o=t[r];return o||(o=t[r]=[]),o.push({callback:n,ctx:a}),e},off:function(r,n){if(void 0===r)return t=Object.create(null),e;if(t[r])if("function"!=typeof n)delete t[r];else for(var a=t[r],o=0;o<a.length;++o)a[o].callback===n&&a.splice(o,1);return e},fire:function(r){var n,a=t[r];if(!a)return e;arguments.length>1&&(n=Array.prototype.splice.call(arguments,1));for(var o=0;o<a.length;++o){var i=a[o];i.callback.apply(i.ctx,n)}return e}}}(e);return e.on=t.on,e.off=t.off,e.fire=t.fire,e}}));var $36cf538db062990b$exports={};parcelRequire("fiA0N").register(JSON.parse('{"gOfOb":"index.7b6b421a.js","gwDts":"openpgp.min.173281cd.js"}')),parcelRequire("lDOPP");
//# sourceMappingURL=index.7b6b421a.js.map
