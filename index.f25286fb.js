(function(){function $parcel$export(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}function $parcel$interopDefault(e){return e&&e.__esModule?e.default:e}var $parcel$global="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},$parcel$modules={},$parcel$inits={},parcelRequire=$parcel$global.parcelRequireb612;null==parcelRequire&&(parcelRequire=function(e){if(e in $parcel$modules)return $parcel$modules[e].exports;if(e in $parcel$inits){var t=$parcel$inits[e];delete $parcel$inits[e];var r={id:e,exports:{}};return $parcel$modules[e]=r,t.call(r.exports,r,r.exports),r.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n},parcelRequire.register=function(e,t){$parcel$inits[e]=t},$parcel$global.parcelRequireb612=parcelRequire),parcelRequire.register("digC3",(function(e,t){var r,n;$parcel$export(e.exports,"register",(function(){return r}),(function(e){return r=e})),$parcel$export(e.exports,"resolve",(function(){return n}),(function(e){return n=e}));var a={};r=function(e){for(var t=Object.keys(e),r=0;r<t.length;r++)a[t[r]]=e[t[r]]},n=function(e){var t=a[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),parcelRequire.register("7EHRQ",(function(module,exports){var $2MZ90=parcelRequire("2MZ90"),$lGf6G=parcelRequire("lGf6G"),$lFx0k=parcelRequire("lFx0k"),$5ZzSx=parcelRequire("5ZzSx"),$FPA49=parcelRequire("FPA49"),$jPFnF=parcelRequire("jPFnF"),$cixNf=parcelRequire("cixNf"),$d2lOa=parcelRequire("d2lOa"),$kalkp=parcelRequire("kalkp"),OBFUSCATED_FORMSPREE_ENDPOINT="aHR0cHM6Ly9mb3Jtc3ByZWUuaW8vZi9tYmp3cGRwdw==",DATA_URL="https://devious-digitizer-data.netlify.app/",cloneTemplate=(0,$cixNf.cloneTemplateFrom)(document);customElements.define("closing-details",$jPFnF.ClosingDetails,{extends:"details"}),customElements.define("tab-panel",$jPFnF.TabPanel),customElements.define("tab-group",$jPFnF.TabGroup),customElements.define("tag-list",$jPFnF.TagList,{extends:"ul"}),customElements.define("modal-overlay",$jPFnF.ModalOverlay),customElements.define("dialog-prompt",$jPFnF.DialogPrompt),customElements.define("toast-box",$jPFnF.Toast),document.getElementById("landing_feedback_link").addEventListener("click",(function(e){return document.body.append(feedback(null,null,null,navigator.userAgent))})),document.getElementById("landing_privacy_link").addEventListener("click",(function(e){return document.body.append(privacy())})),document.getElementById("file_select").addEventListener("change",(function(e){return switchToStory(e.target.files[0])}));var dragDropOverlay=document.getElementById("drag_drop_overlay"),feedbackForm;function toast(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,r=document.createElement("toast-box");return r.setAttribute("text",e),r.setAttribute("linger-time",t),r}function askToConfirm(e){return _askToConfirm.apply(this,arguments)}function _askToConfirm(){return(_askToConfirm=(0,$2MZ90.default)($parcel$interopDefault($5ZzSx).mark((function e(t){return $parcel$interopDefault($5ZzSx).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){var n=function(t){return function(r){r.target==r.currentTarget&&(r.target.dispatchEvent($jPFnF.ModalOverlay.closeRequest),e(t))}},a=cloneTemplate("confirmation_template"),o=a.querySelector(".confirm_prompt");o.textContent=(0,$cixNf.substituteText)(o.textContent,{filename:t}),a.querySelector("modal-overlay").addEventListener("click",n(!1)),a.querySelector(".cancel").addEventListener("click",n(!1)),a.querySelector(".try_anyway").addEventListener("click",n(!0)),document.body.append(a)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sidebarMenu(e,t,r,n){var a=cloneTemplate("sidebar_menu_template");return a.querySelector(".settings_link").addEventListener("click",(function(e){return document.body.append(settings(t.history[0].passage.title,r))})),a.querySelector(".feedback_link").addEventListener("click",(function(a){return document.body.append(feedback(e,t,r,n))})),a.querySelector(".privacy_link").addEventListener("click",(function(e){return document.body.append(privacy())})),a}function settings(e,t){var r=cloneTemplate("settings_template"),n=function(e){e.target==e.currentTarget&&e.target.dispatchEvent($jPFnF.ModalOverlay.closeRequest)};r.querySelector("modal-overlay").addEventListener("click",n),r.querySelector(".close_settings").addEventListener("click",n);var a=r.querySelector(".tag_editor");return a.value=gatherTags(e,t).join(" "),r.querySelector(".save_tags").addEventListener("click",(function(r){var n=t.get(e);n&&(n.modifiedTags=a.value.split(" ")),document.body.append(toast("tags saved!",2))})),r.querySelector(".export_metadata").addEventListener("click",(function(e){return(0,$cixNf.exportObject)(extractMetadata(t),"metadata.json")})),r}function buildFeedback(){var e=cloneTemplate("feedback_template"),t=function(e){e.target==e.currentTarget&&e.target.dispatchEvent($jPFnF.ModalOverlay.closeRequest)};e.querySelector("modal-overlay").addEventListener("click",t),e.querySelector(".close_feedback").addEventListener("click",t);var r=e.querySelector(".debug_info"),n=e.querySelector(".include_debug_info");n.addEventListener("change",(function(e){r.disabled=!n.checked}));var a=function(e){return function(t){t.preventDefault();var a=`${e}-${(0,$FPA49.nanoid)(6)}`;r.disabled=!n.checked;var o=new FormData(t.target);o.append("id",a);var i=`Devious Digitizer Feedback ${a}`,u=(0,$lFx0k.default)(o.entries()).map((function(e){var t=(0,$lGf6G.default)(e,2);return`${t[0]}: ${t[1]}`})).join("\n\n");document.body.append(feedbackPreview(i,u,t.target))}};return e.querySelector(".bug_report").addEventListener("submit",a("BUG")),e.querySelector(".feature_request").addEventListener("submit",a("REQ")),e.querySelector(".help_request").addEventListener("submit",a("HLP")),e.querySelector(".submit_tags").addEventListener("submit",a("TAG")),e}function feedback(e,t,r,n){return null!=feedbackForm||(feedbackForm=buildFeedback().firstChild),feedbackForm.querySelector(".debug_info").textContent=gatherDebugInfo(e,t,n),null!==r&&(feedbackForm.querySelector(".tag_changes").textContent=gatherTagChanges(r)),feedbackForm}function feedbackPreview(e,t,r){var n=cloneTemplate("feedback_preview_template");n.querySelector(".subject").textContent=e,n.querySelector(".body").textContent=t;var a=function(e){e.target==e.currentTarget&&e.target.dispatchEvent($jPFnF.ModalOverlay.closeRequest)};return n.querySelector("modal-overlay").addEventListener("click",a),n.querySelector(".cancel").addEventListener("click",a),n.querySelector(".submit").addEventListener("click",(function(n){(0,$cixNf.encryptMessage)($parcel$interopDefault($d2lOa),t).then((function(t){return sendFormspree(e,t)})).then((function(e){r.reset(),n.target.dispatchEvent($jPFnF.ModalOverlay.closeRequest),document.body.append(toast("feedback sent successfully ^_^"))})).catch((function(e){return alert(`something went wrong:\n${e}`)}))})),n}function privacy(){var e=cloneTemplate("privacy_template"),t=function(e){e.target==e.currentTarget&&e.target.dispatchEvent($jPFnF.ModalOverlay.closeRequest)};return e.querySelector("modal-overlay").addEventListener("click",t),e.querySelector(".close_privacy").addEventListener("click",t),e}function retrospective(e,t,r){var n,a,o,i=cloneTemplate("retrospective_template");return i.querySelector(".choice--current").innerText=null!==(o=null===(n=t.get(e))||void 0===n||null===(a=n.link)||void 0===a?void 0:a.text)&&void 0!==o?o:"",i.querySelector(".past_passages").ontoggle=function(n){var a,o;n.target.open&&(n.target.ontoggle=null,(a=n.target).prepend.apply(a,(0,$lFx0k.default)(t.getAncestryOf(e).map((function(e){var n,a;return pastPassage(null!==(o=null===(n=t.get(e))||void 0===n||null===(a=n.link)||void 0===a?void 0:a.text)&&void 0!==o?o:"Start",r.get(e))})))))},i}function pastPassage(e,t){var r=cloneTemplate("past_passage_template");return r.querySelector(".choice--past").innerText=e,r.querySelector(".past_passage__text").append(t.render().querySelector(".body.content")),r}function passageTagViewer(e){var t=cloneTemplate("tag_viewer_template");return t.querySelector(".tag_list").tags(e),t}function inlineTagViewer(e,t){var r=cloneTemplate("inline_tag_viewer_template");return r.querySelector(".tag_list--passage").tags(e),r.querySelector(".tag_list--route").tags(t),r}function gatherTags(e,t){var r,n,a,o,i,u,c,l=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return l?(0,$cixNf.arrayUnique)($cixNf.Tree.cata(t,e,(function(e){return(r=null!==(c=null!==(u=e.modifiedTags)&&void 0!==u?u:e.tags)&&void 0!==c?c:[]).concat.apply(r,(0,$lFx0k.default)(e.children))}))):null!==(i=null!==(o=null===(n=t.get(e))||void 0===n?void 0:n.modifiedTags)&&void 0!==o?o:null===(a=t.get(e))||void 0===a?void 0:a.tags)&&void 0!==i?i:[]}function sendFormspree(e,t){return _sendFormspree.apply(this,arguments)}function _sendFormspree(){return(_sendFormspree=(0,$2MZ90.default)($parcel$interopDefault($5ZzSx).mark((function e(t,r){var n,a,o,i;return $parcel$interopDefault($5ZzSx).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("subject",t),n.append("body",r),e.next=5,fetch(atob(OBFUSCATED_FORMSPREE_ENDPOINT),{method:"POST",body:n,headers:{Accept:"application/json"}});case 5:if((a=e.sent).ok){e.next=16;break}return o="There was a problem while trying to send your feedback. Please try again in a moment.",e.next=10,a.json();case 10:if(i=e.sent,!Object.hasOwn(i,"errors")){e.next=15;break}throw new Error(o+i.errors.map((function(e){return e.message})).join(", "));case 15:throw new Error(o);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gatherDebugInfo(e,t,r){return JSON.stringify({userAgent:r,deviousVersion:null==e?void 0:e.title,currentPassage:t?t.history[0].passage.title:null},null,2)}function gatherTagChanges(e){return JSON.stringify(Object.fromEntries((0,$lFx0k.default)(e).filter((function(e){var t=(0,$lGf6G.default)(e,2);t[0];return t[1].hasOwnProperty("modifiedTags")})).map((function(e){var t=(0,$lGf6G.default)(e,2);return[t[0],t[1].modifiedTags]}))),null,2)}function switchToStory(e){return _switchToStory.apply(this,arguments)}function _switchToStory(){return(_switchToStory=(0,$2MZ90.default)($parcel$interopDefault($5ZzSx).mark((function e(t){var r,n;return $parcel$interopDefault($5ZzSx).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.text();case 2:if(r=e.sent,(n=(0,$cixNf.parseDoc)(r)).querySelector('#storeArea > [tiddler = "CharGenMain"]')){e.next=10;break}return e.next=7,askToConfirm(t.name);case 7:if(e.sent){e.next=10;break}return e.abrupt("return");case 10:return hideLanding(),loadDocIntoDom(n),e.next=14,injectDigitizerFeatures();case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hideLanding(){document.querySelector(".digitizer-landing").classList.add("digitizer-landing--inactive")}function loadDocIntoDom(doc){document.head.insertAdjacentHTML("beforeend",doc.head.innerHTML),document.body.insertAdjacentHTML("beforeend",doc.body.innerHTML),document.head.querySelectorAll("script").forEach((function(s){return eval(s.text)})),dispatchEvent(new Event("load"))}function injectDigitizerFeatures(){return _injectDigitizerFeatures.apply(this,arguments)}function _injectDigitizerFeatures(){return(_injectDigitizerFeatures=(0,$2MZ90.default)($parcel$interopDefault($5ZzSx).mark((function e(){var t,r,n,a,o,i,u,c,l;return $parcel$interopDefault($5ZzSx).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("storeArea"),r=document.getElementById("passages"),n=window.tale,a=window.state,o=["CaliburnStart","DefianceStart","EdithStart","FionaStart","IrethStart","KaiStart","KiaraStart","KonkoStart","LeoStart","MaxiaStart","NicholasStart","SimoneStart","SiphaStart","ValerieStart","YamiStart"],i=["allstarstart","youngpunkstart","quietonestart","runawaystart","GwynStart","BuddyStart","AustinStart","DavidStart","JackStart","MikeStart","ThaddeusStart","SweetKidStart","MeanGirlStart","GirlGamerStart","SelfSufficientStart","CallistaStart","BritStart","WilmaStart","HollyStart","CelesteStart","HelenStart","MareiStart","IreneStart"].some(n.has,n)?"DW_metadata.json":o.some(n.has,n)?"DM_metadata.json":(0,$cixNf.err)("Story is neither Worldly nor Mundane"),e.next=9,fetch(DATA_URL+i).then((function(e){return e.json()}));case 9:u=e.sent,c=buildPassageGraph(t),(l=$cixNf.Tree.fromGraphBfs((function(e,t){return c.forEachLinkedNode(t,(function(t,r){return e(t.id,Object.assign({link:r.data},t.data))}),!0)}),"CharGenMain")).forEach((function(e,t){return l.set(t,Object.assign(e,u[t]))})),window.state.display=function(e,t,n,a){r.dispatchEvent(new CustomEvent("before_tale_display",{detail:{title:e,source:t,type:n,callback:a}})),Object.getPrototypeOf(window.state).display.apply(this,[e,t,n,a]),r.dispatchEvent(new CustomEvent("after_tale_display",{detail:{title:e,source:t,type:n,callback:a}}))},r.addEventListener("after_tale_display",(function(e){var t=e.detail.title;l.has(t)&&(r.prepend(passageTagViewer(gatherTags(t,l))),l.get(t).parent&&r.prepend(retrospective(t,l,n)))})),r.addEventListener("after_tale_display",(function(e){return annotateLinksWithTheirTarget(e.detail.title,n,r.querySelector(".passage.transition-in > .body"))})),r.addEventListener("after_tale_display",(function(e){return addLinkTagLists(r.querySelector(".passage.transition-in > .body"),l)})),document.getElementById("sidebar").append(sidebarMenu(n,a,l,navigator.userAgent));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}document.body.addEventListener("dragenter",(function(e){e.preventDefault()})),document.body.addEventListener("dragover",(function(e){return e.preventDefault()})),document.body.addEventListener("dragleave",(function(e){})),document.body.addEventListener("drop",(function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.files&&switchToStory(e.dataTransfer.files[0])}));var getLinks=function(e){return Array.from(e.matchAll(/\[\[(?:([^|]+)\|)?([^\]]+)\]\]/g)).map((function(e){var t=(0,$lGf6G.default)(e,3);t[0];return{text:t[1],target:t[2]}}))};function buildPassageGraph(e){var t=$kalkp(),r=new Set(Array.from(e.children).map((function(e){return e.getAttribute("tiddler")}))),n=!0,a=!1,o=void 0;try{for(var i,u=e.children[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var c=i.value,l=c.getAttribute("tiddler"),s=!0,f=!1,d=void 0;try{for(var p,v=getLinks(c.innerText)[Symbol.iterator]();!(s=(p=v.next()).done);s=!0){var h=p.value,g=h.text,y=h.target;r.has(y)&&t.addLink(l,y,{text:g})}}catch(e){f=!0,d=e}finally{try{s||null==v.return||v.return()}finally{if(f)throw d}}}}catch(e){a=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(a)throw o}}return t}function annotateLinksWithTheirTarget(e,t,r){var n=getLinks(t.get(e).text).map((function(e){return e.target})),a=Array.from(r.querySelectorAll("a")),o=!0,i=!1,u=void 0;try{for(var c,l=(0,$cixNf.take)(100,(0,$cixNf.zip)([a,n]))[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var s=(0,$lGf6G.default)(c.value,2),f=s[0],d=s[1];f.setAttribute("data-target",d)}}catch(e){i=!0,u=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw u}}}function addLinkTagLists(e,t){e.querySelectorAll("a[data-target]").forEach((function(e){var r=e.getAttribute("data-target");t.has(r)&&e.before(inlineTagViewer(gatherTags(r,t,!1),gatherTags(r,t,!0)))}))}function extractMetadata(e){var t=new Set(["tags","modifiedTags"]),r=function(e){return(0,$cixNf.filterObjectByKey)(e,(function(e){return t.has(e)}))};return e.toObject((function(e){var t=(0,$lGf6G.default)(e,2),n=t[0],a=t[1];return[n,r(a)]}))}})),parcelRequire.register("2MZ90",(function(e,t){function r(e,t,r,n,a,o,i){try{var u=e[o](i),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,a)}function n(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var i=e.apply(t,n);function u(e){r(i,a,o,u,c,"next",e)}function c(e){r(i,a,o,u,c,"throw",e)}u(void 0)}))}}$parcel$export(e.exports,"default",(function(){return n}))})),parcelRequire.register("lGf6G",(function(e,t){$parcel$export(e.exports,"default",(function(){return i}));var r=parcelRequire("9T0x6"),n=parcelRequire("hOOUp"),a=parcelRequire("62v2q"),o=parcelRequire("46h2R");function i(e,t){return(0,r.default)(e)||(0,n.default)(e,t)||(0,o.default)(e,t)||(0,a.default)()}})),parcelRequire.register("9T0x6",(function(e,t){function r(e){if(Array.isArray(e))return e}$parcel$export(e.exports,"default",(function(){return r}))})),parcelRequire.register("hOOUp",(function(e,t){function r(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}$parcel$export(e.exports,"default",(function(){return r}))})),parcelRequire.register("62v2q",(function(e,t){function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}$parcel$export(e.exports,"default",(function(){return r}))})),parcelRequire.register("46h2R",(function(e,t){$parcel$export(e.exports,"default",(function(){return n}));var r=parcelRequire("i3s4E");function n(e,t){if(e){if("string"==typeof e)return(0,r.default)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.default)(e,t):void 0}}})),parcelRequire.register("i3s4E",(function(e,t){function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}$parcel$export(e.exports,"default",(function(){return r}))})),parcelRequire.register("lFx0k",(function(e,t){$parcel$export(e.exports,"default",(function(){return i}));var r=parcelRequire("6nvpa"),n=parcelRequire("hOOUp"),a=parcelRequire("3zszv"),o=parcelRequire("46h2R");function i(e){return(0,r.default)(e)||(0,n.default)(e)||(0,o.default)(e)||(0,a.default)()}})),parcelRequire.register("6nvpa",(function(e,t){$parcel$export(e.exports,"default",(function(){return n}));var r=parcelRequire("i3s4E");function n(e){if(Array.isArray(e))return(0,r.default)(e)}})),parcelRequire.register("3zszv",(function(e,t){function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}$parcel$export(e.exports,"default",(function(){return r}))})),parcelRequire.register("5ZzSx",(function(e,t){var r=function(e){"use strict";var t,r=function(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]},n=function(e,t,r,n){var a=t&&t.prototype instanceof o?t:o,i=Object.create(a.prototype),u=new p(n||[]);return i._invoke=s(e,r,u),i},a=function(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}},o=function(){},i=function(){},u=function(){},c=function(e){["next","throw","return"].forEach((function(t){r(e,t,(function(e){return this._invoke(t,e)}))}))},l=function(e,t){function r(n,o,i,u){var c=a(e[n],e,o);if("throw"!==c.type){var l=c.arg,s=l.value;return s&&"object"==typeof s&&y.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,u)}),(function(e){r("throw",e,i,u)})):t.resolve(s).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,u)}))}u(c.arg)}var n;this._invoke=function(e,a){function o(){return new t((function(t,n){r(e,a,t,n)}))}return n=n?n.then(o,o):o()}},s=function(e,t,r){var n=$;return function(o,i){if(n===k)throw new Error("Generator is already running");if(n===R){if("throw"===o)throw i;return h()}for(r.method=o,r.arg=i;;){var u=r.delegate;if(u){var c=j(u,r);if(c){if(c===E)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===$)throw n=R,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=k;var l=a(e,t,r);if("normal"===l.type){if(n=r.done?R:q,l.arg===E)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n=R,r.method="throw",r.arg=l.arg)}}},f=function(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)},d=function(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t},p=function(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(f,this),this.reset(!0)},v=function(e){if(e){var r=e[b];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function r(){for(;++n<e.length;)if(y.call(e,n))return r.value=e[n],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}return{next:h}},h=function(){return{value:t,done:!0}},g=Object.prototype,y=g.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},b=m.iterator||"@@iterator",x=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{r({},"")}catch(e){r=function(e,t,r){return e[t]=r}}e.wrap=n;var $="suspendedStart",q="suspendedYield",k="executing",R="completed",E={},S={};r(S,b,(function(){return this}));var L=Object.getPrototypeOf,O=L&&L(L(v([])));O&&O!==g&&y.call(O,b)&&(S=O);var T=u.prototype=o.prototype=Object.create(S);function j(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method))return E;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return E}var o=a(n,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,E;var i=o.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,E):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,E)}return i.prototype=u,r(T,"constructor",u),r(u,"constructor",i),i.displayName=r(u,w,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===i||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,r(e,w,"GeneratorFunction")),e.prototype=Object.create(T),e},e.awrap=function(e){return{__await:e}},c(l.prototype),r(l.prototype,x,(function(){return this})),e.AsyncIterator=l,e.async=function(t,r,a,o,i){void 0===i&&(i=Promise);var u=new l(n(t,r,a,o),i);return e.isGeneratorFunction(r)?u:u.next().then((function(e){return e.done?e.value:u.next()}))},c(T),r(T,w,"Generator"),r(T,b,(function(){return this})),r(T,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=v,p.prototype={constructor:p,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(d),!e)for(var r in this)"t"===r.charAt(0)&&y.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){var r=function(r,a){return i.type="throw",i.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a};if(this.done)throw e;for(var n=this,a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var u=y.call(o,"catchLoc"),c=y.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,E):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),E},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),d(r),E}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;d(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:v(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),E}},e}(e.exports);try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}})),parcelRequire.register("FPA49",(function(e,t){$parcel$export(e.exports,"nanoid",(function(){return r}));parcelRequire("k4UwZ");var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(e)).reduce((function(e,t){return e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"}),"")}})),parcelRequire.register("k4UwZ",(function(e,t){})),parcelRequire.register("jPFnF",(function(e,t){$parcel$export(e.exports,"ClosingDetails",(function(){return m})),$parcel$export(e.exports,"TabPanel",(function(){return b})),$parcel$export(e.exports,"TabGroup",(function(){return x})),$parcel$export(e.exports,"TagList",(function(){return w})),$parcel$export(e.exports,"ModalOverlay",(function(){return $})),$parcel$export(e.exports,"DialogPrompt",(function(){return q})),$parcel$export(e.exports,"Toast",(function(){return k}));var r=parcelRequire("ddF4S"),n=parcelRequire("iZSGc"),a=parcelRequire("haNlg"),o=parcelRequire("2duWZ"),i=parcelRequire("iXoyT"),u=parcelRequire("lFx0k"),c=parcelRequire("4oKKp"),l=parcelRequire("eGMIa");parcelRequire("fOmVu");var s=parcelRequire("iiqW2"),f=parcelRequire("FPA49"),d=parcelRequire("cixNf"),p=parcelRequire("ln5rx"),v=parcelRequire("8b7cE"),h=$parcel$interopDefault(p).stream,g=function(e,t){return $parcel$interopDefault(p).combine(t,e)},y=function(e,t,r){return(0,d.pipe)(e,v.dropRepeats,$parcel$interopDefault(p).on((function(e){return r.getAttribute(t)===e?null:r.setAttribute(t,e)})))},m=function(e){"use strict";(0,i.default)(r,e);var t=(0,l.default)(r);function r(){var e;return(0,n.default)(this,r),(e=t.call(this))._closeIfUnfocused=function(t){e.contains(document.elementFromPoint(t.clientX,t.clientY))||(e.open=!1)},e}return(0,a.default)(r,[{key:"connectedCallback",value:function(){document.body.addEventListener("mousedown",this._closeIfUnfocused)}},{key:"disconnectedCallback",value:function(){document.body.removeEventListener("mousedown",this._closeIfUnfocused)}}]),r}((0,c.default)(HTMLDetailsElement)),b=function(e){"use strict";(0,i.default)(u,e);var t=(0,l.default)(u);function u(){var e;return(0,n.default)(this,u),e=t.call(this),(0,o.default)((0,r.default)(e),"idChanged",h(null)),(0,o.default)((0,r.default)(e),"title",h()),(0,o.default)((0,r.default)(e),"_onTitleChanged",y(e.title,"title",(0,r.default)(e))),(0,o.default)((0,r.default)(e),"group",h()),(0,o.default)((0,r.default)(e),"active",g([e.group.chain((function(e){return null==e?void 0:e.active})),e.idChanged],(function(t,n){var a=t()===e.id;return(0,d.setClass)((0,r.default)(e),"active",a),a}))),e.attachShadow({mode:"open"}),e.shadowRoot.append((0,s.default)("style",null,":host {display: none;} :host(.active) {display: block;}"),(0,s.default)("div",{role:"tabpanel"},(0,s.default)("slot"))),e}return(0,a.default)(u,[{key:"connectedCallback",value:function(){var e;this.title(null!==(e=this.getAttribute("title"))&&void 0!==e?e:""),this.group(this.parentElement instanceof x?this.parentElement:null),this.id=this.id||(0,f.nanoid)(10)}},{key:"attributeChangedCallback",value:function(e,t,r){"id"===e?this.idChanged(null):"title"===e&&this.title(r)}}],[{key:"observedAttributes",get:function(){return["id","title"]}}]),u}((0,c.default)(HTMLElement)),x=function(e){"use strict";(0,i.default)(c,e);var t=(0,l.default)(c);function c(){var e;return(0,n.default)(this,c),e=t.call(this),(0,o.default)((0,r.default)(e),"defaultTabTitle",""),(0,o.default)((0,r.default)(e),"tabs",h()),(0,o.default)((0,r.default)(e),"active",h(null)),(0,o.default)((0,r.default)(e),"_onActiveChanged",y(e.active,"active",(0,r.default)(e))),(0,o.default)((0,r.default)(e),"renderTabList",g([e.tabs,e.active],(function(t,r){var n,a;t().some((function(e){return e.id===r()}))?(n=e.shadowRoot.getElementById("tablist")).replaceChildren.apply(n,(0,u.default)(t().map((function(t){return(0,s.default)("li",{class:"tab"+(r()===t.id?" active":""),onclick:function(){return e.active(t.id)},"aria-controls":t.id,role:"tab"},t.title()||e.defaultTabTitle)})))):e.active(null===(a=t()[0])||void 0===a?void 0:a.id)}))),e.attachShadow({mode:"open"}),e.shadowRoot.append((0,s.default)("style",null,"\n                #tabgroup { display: flex; flex-flow: var(--tabs-position, column) nowrap; gap: var(--tablist-gap, 0); }\n                #tablist { display: flex; flex-flow: var(--tabs-flow, row wrap); align-items: var(--tab-align); margin: 0;\n                    padding: 0; gap: var(--tabs-gap, .5em); }\n                .tab { display: block; background: var(--tab-background); cursor: var(--tab-cursor); padding: var(--tab-padding);\n                    border: var(--tab-border); border-style: var(--tab-border-style); border-color: var(--tab-border-color);\n                    border-width: var(--tab-border-width); border-radius: var(--tab-border-radius); }\n                .tab.active { background: var(--tab-active-background); border: var(--tab-active-border);\n                    border-style: var(--tab-active-border-style); border-color: var(--tab-active-border-color);\n                    border-width: var(--tab-active-border-width); border-radius: var(--tab-active-border-radius); }"),(0,s.default)("div",{part:"tabgroup",role:"wrapper",id:"tabgroup"},[(0,s.default)("slot"),(0,s.default)("menu",{part:"tablist",role:"tablist",id:"tablist"})])),e.shadowRoot.querySelector("slot").addEventListener("slotchange",(function(t){return e.tabs(t.target.assignedElements().filter((function(e){return e instanceof b})))})),e}return(0,a.default)(c,[{key:"attributeChangedCallback",value:function(e,t,r){"active"===e&&this.active(r)}}],[{key:"observedAttributes",get:function(){return["active"]}}]),c}((0,c.default)(HTMLElement)),w=function(e){"use strict";(0,i.default)(c,e);var t=(0,l.default)(c);function c(){var e;return(0,n.default)(this,c),e=t.apply(this,arguments),(0,o.default)((0,r.default)(e),"connected",h()),(0,o.default)((0,r.default)(e),"tags",h([])),(0,o.default)((0,r.default)(e),"render",g([e.tags,e.connected],(function(t){return e.replaceChildren.apply(e,(0,u.default)(t().sort().map((function(e){return(0,s.default)("li",{class:"tag_list__tag"},e)}))))}))),e}return(0,a.default)(c,[{key:"connectedCallback",value:function(){this.connected(!0)}}]),c}((0,c.default)(HTMLUListElement)),$=function(e){"use strict";(0,i.default)(r,e);var t=(0,l.default)(r);function r(){var e;return(0,n.default)(this,r),(e=t.call(this)).attachShadow({mode:"open"}),e.shadowRoot.append((0,s.default)("style",null,"\n                #overlay {\n                    display: var(--overlay-display, flex); flex-flow: column nowrap; justify-content: safe center;\n                    align-items: center;\n\n                    position: fixed; z-index: 1; left: 0; top: 0; width: 100%; height: 100%;\n                    overflow: auto;\n\n                    background-color: var(--overlay-color, rgba(0,0,0,0.4));\n                }"),(0,s.default)("div",{id:"overlay"},[(0,s.default)("slot")])),e.addEventListener("request_overlay_close",(function(t){t.stopPropagation(),e.close()})),e}return(0,a.default)(r,[{key:"open",value:function(e){e.appendChild(this._overlay)}},{key:"close",value:function(){this.remove()}}]),r}((0,c.default)(HTMLElement));(0,o.default)($,"closeRequest",new Event("request_overlay_close",{bubbles:!0,cancelable:!0}));var q=function(e){"use strict";(0,i.default)(r,e);var t=(0,l.default)(r);function r(){var e;return(0,n.default)(this,r),(e=t.call(this)).attachShadow({mode:"open"}),e.shadowRoot.append((0,s.default)("style",null,"\n                #dialog {\n                    background-color: var(--dialog-color, grey); padding: var(--dialog-padding, 2em);\n                    border: var(--dialog-border); border-radius: var(--dialog-border-radius);\n                }\n\n                #buttons {\n                    display: flex; flex-flow: row wrap; justify-content: space-around;\n                    align-items: center; align-content: space-around; border: none;\n                }"),(0,s.default)("form",{id:"dialog",onsubmit:function(e){return!1}},[(0,s.default)("slot",{name:"prompt"}),(0,s.default)("fieldset",{id:"buttons"},[(0,s.default)("slot",{name:"buttons"})])])),e}return r}((0,c.default)(HTMLElement)),k=function(e){"use strict";(0,i.default)(r,e);var t=(0,l.default)(r);function r(){var e;return(0,n.default)(this,r),(e=t.call(this)).attachShadow({mode:"open"}),e.shadowRoot.append((0,s.default)("style",null,"\n                @keyframes fadeOut {\n                    from {opacity: 1;}\n                    to {opacity: 0;}\n                }\n                \n                #toast {\n                    background-color: var(--toast-color, grey); padding: var(--toast-padding, 2em);\n                    border: var(--toast-border); border-radius: var(--toast-border-radius);\n                    position: fixed; z-index: 1; left: 50%; bottom: 25%; transform: -50%;\n                }\n                \n                #toast.fade {\n                    animation: fadeOut 1s ease-in;\n                }"),(0,s.default)("p",{id:"toast"})),e.shadowRoot.getElementById("toast").addEventListener("animationend",(function(t){"fadeOut"===t.animationName&&e.remove()})),e}return(0,a.default)(r,[{key:"connectedCallback",value:function(){var e=this.shadowRoot.getElementById("toast");e.textContent=this.getAttribute("text"),(0,d.sleep)(1e3*Number(this.getAttribute("linger-time"))).then((function(t){return e.classList.add("fade")}))}}]),r}((0,c.default)(HTMLElement))})),parcelRequire.register("ddF4S",(function(e,t){function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}$parcel$export(e.exports,"default",(function(){return r}))})),parcelRequire.register("iZSGc",(function(e,t){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}$parcel$export(e.exports,"default",(function(){return r}))})),parcelRequire.register("haNlg",(function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}$parcel$export(e.exports,"default",(function(){return n}))})),parcelRequire.register("2duWZ",(function(e,t){function r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}$parcel$export(e.exports,"default",(function(){return r}))})),parcelRequire.register("iXoyT",(function(e,t){$parcel$export(e.exports,"default",(function(){return n}));var r=parcelRequire("2a3dS");function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(0,r.default)(e,t)}})),parcelRequire.register("2a3dS",(function(e,t){function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}function n(e,t){return r(e,t)}$parcel$export(e.exports,"default",(function(){return n}))})),parcelRequire.register("4oKKp",(function(e,t){$parcel$export(e.exports,"default",(function(){return u}));var r=parcelRequire("kJiL2"),n=parcelRequire("hF9lH"),a=parcelRequire("4j2oH"),o=parcelRequire("2a3dS");function i(e){var t="function"==typeof Map?new Map:void 0;return i=function(e){if(null===e||!(0,n.default)(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return(0,r.default)(e,arguments,(0,a.default)(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),(0,o.default)(i,e)},i(e)}function u(e){return i(e)}})),parcelRequire.register("kJiL2",(function(e,t){$parcel$export(e.exports,"default",(function(){return o}));var r=parcelRequire("2a3dS");function n(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function a(e,t,o){return a=n()?Reflect.construct:function(e,t,n){var a=[null];a.push.apply(a,t);var o=new(Function.bind.apply(e,a));return n&&(0,r.default)(o,n.prototype),o},a.apply(null,arguments)}function o(e,t,r){return a.apply(null,arguments)}})),parcelRequire.register("hF9lH",(function(e,t){function r(e){return-1!==Function.toString.call(e).indexOf("[native code]")}$parcel$export(e.exports,"default",(function(){return r}))})),parcelRequire.register("4j2oH",(function(e,t){function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}function n(e){return r(e)}$parcel$export(e.exports,"default",(function(){return n}))})),parcelRequire.register("eGMIa",(function(e,t){$parcel$export(e.exports,"default",(function(){return o}));var r=parcelRequire("lbbUl"),n=parcelRequire("4j2oH"),a=parcelRequire("aJcpA");function o(e){var t=(0,r.default)();return function(){var r,o=(0,n.default)(e);if(t){var i=(0,n.default)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return(0,a.default)(this,r)}}})),parcelRequire.register("lbbUl",(function(e,t){function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}$parcel$export(e.exports,"default",(function(){return r}))})),parcelRequire.register("aJcpA",(function(e,t){$parcel$export(e.exports,"default",(function(){return a}));var r=parcelRequire("ddF4S"),n=parcelRequire("7Kswr");function a(e,t){return!t||"object"!==(0,n.default)(t)&&"function"!=typeof t?(0,r.default)(e):t}})),parcelRequire.register("7Kswr",(function(e,t){function r(e){return e&&e.constructor===Symbol?"symbol":typeof e}$parcel$export(e.exports,"default",(function(){return r}))})),parcelRequire.register("fOmVu",(function(e,t){$parcel$export(e.exports,"el",(function(){return parcelRequire("iiqW2").default}));parcelRequire("iiqW2"),parcelRequire("7iNlt"),parcelRequire("kvXGg"),parcelRequire("cgPcZ"),parcelRequire("veFAr")})),parcelRequire.register("iiqW2",(function(e,t){$parcel$export(e.exports,"default",(function(){return a}));var r=parcelRequire("lMVrw"),n={id:!0,nodeValue:!0,textContent:!0,className:!0,innerHTML:!0,tabIndex:!0,value:!0};function a(e){for(var t=arguments,a=function(e){var a=t[e];if(null!=a){var i=function(e,t){var i=t[e],u=a[i];"style"===i?o.style.cssText=u:"string"!=typeof u||n[i]?(o[i]=u,"o"===i[0]&&"n"===i[1]&&i.charCodeAt(2)<91&&i.charCodeAt(2)>64&&!r.default[i]&&(document.addEventListener(i.slice(2).toLowerCase(),(function(e){var t=e.target;do{if(t[i])return t[i](e)}while(t=t.parentNode)})),r.default[i]=!0)):o.setAttribute(i,u)};if(a.constructor&&a.constructor!==Object)if(Array.isArray(a))for(var u=0;u<a.length;++u)o.appendChild(a[u].nodeType?a[u]:document.createTextNode(a[u]));else o.appendChild(a.nodeType?a:document.createTextNode(a));else for(var c=0,l=Object.keys(a);c<l.length;++c)i(c,l)}},o=1===e.nodeType?e:document.createElement(e),i=1;i<arguments.length;++i)a(i);return o}})),parcelRequire.register("lMVrw",(function(e,t){$parcel$export(e.exports,"default",(function(){return r}));var r={}})),parcelRequire.register("7iNlt",(function(e,t){parcelRequire("lMVrw")})),parcelRequire.register("kvXGg",(function(e,t){})),parcelRequire.register("cgPcZ",(function(e,t){})),parcelRequire.register("veFAr",(function(e,t){})),parcelRequire.register("cixNf",(function(e,t){$parcel$export(e.exports,"take",(function(){return q})),$parcel$export(e.exports,"setClass",(function(){return m})),$parcel$export(e.exports,"err",(function(){return b})),$parcel$export(e.exports,"sleep",(function(){return x})),$parcel$export(e.exports,"pipe",(function(){return w})),$parcel$export(e.exports,"zip",(function(){return $})),$parcel$export(e.exports,"arrayUnique",(function(){return R})),$parcel$export(e.exports,"filterObjectByKey",(function(){return E})),$parcel$export(e.exports,"substituteText",(function(){return S})),$parcel$export(e.exports,"Tree",(function(){return L})),$parcel$export(e.exports,"cloneTemplateFrom",(function(){return O})),$parcel$export(e.exports,"parseDoc",(function(){return T})),$parcel$export(e.exports,"exportObject",(function(){return j})),$parcel$export(e.exports,"encryptMessage",(function(){return A}));var r=parcelRequire("ddF4S"),n=parcelRequire("2MZ90"),a=parcelRequire("iZSGc"),o=parcelRequire("kJiL2"),i=parcelRequire("haNlg"),u=parcelRequire("2duWZ"),c=parcelRequire("iXoyT"),l=parcelRequire("7ms89"),s=parcelRequire("83BcQ"),f=parcelRequire("lGf6G"),d=parcelRequire("lFx0k"),p=parcelRequire("4oKKp"),v=parcelRequire("eGMIa"),h=parcelRequire("5ZzSx"),g=parcelRequire("19YAp"),y=$parcel$interopDefault(h).mark(q),m=function(e,t,r){return r?e.classList.add(t):e.classList.remove(t)},b=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];throw(0,o.default)(Error,(0,d.default)(t))},x=function(e){return new Promise((function(t){return setTimeout(t,e)}))},w=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.reduce((function(e,t){return t(e)}),e)},$=function(e){return e[0].map((function(t,r){return e.map((function(e){return e[r]}))}))};function q(e,t){var r,n,a,o,i,u;return $parcel$interopDefault(h).wrap((function(c){for(;;)switch(c.prev=c.next){case 0:r=!0,n=!1,a=void 0,c.prev=1,o=t[Symbol.iterator]();case 3:if(r=(i=o.next()).done){c.next=13;break}if(u=i.value,!(e<1)){c.next=7;break}return c.abrupt("break",13);case 7:return c.next=9,u;case 9:e-=1;case 10:r=!0,c.next=3;break;case 13:c.next=19;break;case 15:c.prev=15,c.t0=c.catch(1),n=!0,a=c.t0;case 19:c.prev=19,c.prev=20,r||null==o.return||o.return();case 22:if(c.prev=22,!n){c.next=25;break}throw a;case 25:return c.finish(22);case 26:return c.finish(19);case 27:case"end":return c.stop()}}),y,null,[[1,15,19,27],[20,,22,26]])}var k,R=function(e){return Array.from(new Set(e))};function E(e,t){return function(e,t){return Object.fromEntries(Object.entries(e).filter(t))}(e,(function(e){var r=(0,f.default)(e,2),n=r[0];r[1];return t(n)}))}var S=function(e,t){return e.replaceAll(/{(\w+)}/g,(function(e,r){return null!==(k=t[r])&&void 0!==k?k:e}))},L=function(e){"use strict";(0,c.default)(n,e);var t=(0,v.default)(n);function n(e){var o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,a.default)(this,n),o=t.call(this),(0,u.default)((0,r.default)(o),"root",null),e&&o.setRoot(e,i),o}return(0,i.default)(n,[{key:"setRoot",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null!==this.root)throw new Error(`root '${this.root}' already exists`);this.set(e,Object.assign(t,{children:[],parent:null})),this.root=e}},{key:"addChild",value:function(e,t){var r,n,a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(void 0!==this.get(t))throw new Error(`child ${t} already exists`);null!==(a=null===(r=this.get(e))||void 0===r||null===(n=r.children)||void 0===n?void 0:n.push(t))&&void 0!==a||b(`parent '${e}' does not exist or is malformed`),this.set(t,Object.assign(o,{children:[],parent:e}))}},{key:"deleteNode",value:function(e){var t=!0,r=!1,n=void 0;try{for(var a,o=this.get(e).children[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var i=a.value;this.deleteNode(i)}}catch(e){r=!0,n=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw n}}this.delete(e)}},{key:"toObject",value:function(e){return"function"==typeof e?Object.fromEntries(Array.from(this,e)):Object.fromEntries(this)}},{key:"getAncestryOf",value:function(e){for(var t=[],r=this.get(e).parent;null!==r;)t.unshift(r),r=this.get(r).parent;return t}}],[{key:"cata",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2?arguments[2]:void 0,n=function(t){return{node:t,before:(0,d.default)(e.get(t).children),after:[]}},a=[n(null!=t?t:e.root)];;)if(a.at(-1).before.length)a.push(n(a.at(-1).before.pop()));else{var o=a.pop(),i=r((0,s.default)((0,l.default)({},e.get(o.node)),{children:o.after}));if(!a.length)return i;a.at(-1).after.push(i)}}},{key:"fromGraphBfs",value:function(e,t){for(var r=new n(t),a=[t],o=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r.has(t)||(a.push(t),r.addChild(e,t,n))}};a.length>0;){var i=a.pop();e(o(i),i)}return r}}]),n}((0,p.default)(Map)),O=function(e){return function(t){var r=e.importNode(e.getElementById(t).content,!0);return Array.from(r.childNodes).forEach((function(e){("#text"===e.nodeName&&!e.nodeValue.trim()||"#comment"===e.nodeName)&&e.remove()})),r}};function T(e){return(new DOMParser).parseFromString(e,"text/html")}function j(e,t){(0,g.saveAs)(new Blob([JSON.stringify(e)],{type:"application/json"}),t)}function A(e,t){return _.apply(this,arguments)}function _(){return(_=(0,n.default)($parcel$interopDefault(h).mark((function e(t,r){var n,a,o,i;return $parcel$interopDefault(h).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,parcelRequire("LGXfz");case 2:return n=e.sent,a=n.readKey,o=n.encrypt,i=n.createMessage,e.t0=o,e.next=9,i({text:r});case 9:return e.t1=e.sent,e.next=12,a({armoredKey:t});case 12:return e.t2=e.sent,e.t3={message:e.t1,encryptionKeys:e.t2},e.next=16,(0,e.t0)(e.t3);case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}})),parcelRequire.register("7ms89",(function(e,t){$parcel$export(e.exports,"default",(function(){return n}));var r=parcelRequire("2duWZ");function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){(0,r.default)(e,t,n[t])}))}return e}})),parcelRequire.register("83BcQ",(function(e,t){function r(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}$parcel$export(e.exports,"default",(function(){return r}))})),parcelRequire.register("19YAp",(function(e,t){var r;e.exports,r=function(){"use strict";var t=function(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){i(n.response,t,r)},n.onerror=function(){console.error("could not download file")},n.send()},r=function(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status},n=function(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(r){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}},a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof $parcel$global&&$parcel$global.global===$parcel$global?$parcel$global:void 0,o=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),i=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(e,o,i){var u=a.URL||a.webkitURL,c=document.createElement("a");o=o||e.name||"download",c.download=o,c.rel="noopener","string"==typeof e?(c.href=e,c.origin===location.origin?n(c):r(c.href)?t(e,o,i):n(c,c.target="_blank")):(c.href=u.createObjectURL(e),setTimeout((function(){u.revokeObjectURL(c.href)}),4e4),setTimeout((function(){n(c)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,a,o){if(a=a||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,o),a);else if(r(e))t(e,a,o);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout((function(){n(i)}))}}:function(e,r,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return t(e,r,n);var u="application/octet-stream"===e.type,c=/constructor/i.test(a.HTMLElement)||a.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||u&&c||o)&&"undefined"!=typeof FileReader){var s=new FileReader;s.onloadend=function(){var e=s.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},s.readAsDataURL(e)}else{var f=a.URL||a.webkitURL,d=f.createObjectURL(e);i?i.location=d:location.href=d,i=null,setTimeout((function(){f.revokeObjectURL(d)}),4e4)}});a.saveAs=i.saveAs=i,e.exports=i},"function"==typeof define&&define.amd?define([],r):r()})),parcelRequire.register("LGXfz",(function(e,t){e.exports=parcelRequire("2bhLc")(parcelRequire("jS3DB").getBundleURL("jaZFP")+parcelRequire("digC3").resolve("cvggw")).then((function(){return parcelRequire("4W4kq")}))})),parcelRequire.register("2bhLc",(function(e,t){"use strict";var r=parcelRequire("3MQhM");e.exports=r((function(e){return new Promise((function(t,r){var n=document.getElementsByTagName("script");if([].concat(n).some((function(t){return t.src===e})))t();else{var a=document.createElement("link");a.href=e,a.rel="preload",a.as="script",document.head.appendChild(a);var o=document.createElement("script");o.async=!0,o.type="text/javascript",o.src=e,o.onerror=function(t){var n=new TypeError("Failed to fetch dynamically imported module: ".concat(e,". Error: ").concat(t.message));o.onerror=o.onload=null,o.remove(),r(n)},o.onload=function(){o.onerror=o.onload=null,t()},document.getElementsByTagName("head")[0].appendChild(o)}}))}))})),parcelRequire.register("3MQhM",(function(e,t){"use strict";var r={},n={},a={};function o(e){switch(e){case"preload":return n;case"prefetch":return a;default:return r}}e.exports=function(e,t){return function(r){var n=o(t);return n[r]?n[r]:n[r]=e.apply(null,arguments).catch((function(e){throw delete n[r],e}))}}})),parcelRequire.register("jS3DB",(function(e,t){var r;$parcel$export(e.exports,"getBundleURL",(function(){return r}),(function(e){return r=e}));var n={};function a(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}r=function(e){var t=n[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^)\n]+/g);if(e)return a(e[2])}return"/"}(),n[e]=t),t}})),parcelRequire.register("ln5rx",(function(e,t){"use strict";var r=parcelRequire("jUFbb");function n(){return!0}var a,o=[],i=[],u=-1,c=!1,l=!1;var s={};function f(e,t){var r,a,o,i,u=$([],n);for(o=[],i=[],r=0;r<t.length;++r)void 0!==t[r]&&(o.push(t[r]),void 0!==t[r].end&&i.push(t[r].end));return(a=$(o,e)).depsChanged=[],a.fnArgs=a.deps.concat([a,a.depsChanged]),a.end=u,u.listeners.push(a),L(i,u),u.deps=i,q(a),a}function d(e,t){return f((function(t,r){r(e(t.val))}),[t])}function p(e){return d(e,this)}function v(e){return e(this)}function h(e){return g(e,this)}function g(e,t){var r=s.stream(1),n=s.on((function(){var e=r()-1;r(e),e<=0&&r.end(!0)}));n(t.end);var a=s.stream(),o=s.combine((function(t,o){a.end(!0);var i=e(t());r(r()+1),n(i.end),a=d(o,i)}),[t]);return s.endsOn(r.end,o),o}function y(e,t){return f((function(e,t,r){r(e.val(t.val))}),[t,e])}function m(e){return y(e,this)}function b(e){return y(this,e)}function x(){return"stream("+this.val+")"}function w(){function e(t){return 0===arguments.length?e.val:(S(t,e),e)}return e.hasVal=!1,e.val=void 0,e.updaters=[],e.listeners=[],e.queued=!1,e.end=void 0,e.ap=m,e["fantasy-land/map"]=e.map=p,e["fantasy-land/ap"]=b,e["fantasy-land/of"]=e.of=s.stream,e["fantasy-land/chain"]=e.chain=h,e.pipe=v,e.constructor=s.stream,e.toJSON=function(){return e.val},e.toString=x,e}function $(e,t){var r=w();return r.fn=t,r.deps=e,r.depsMet=!1,r.depsChanged=e.length>0?[]:void 0,r.shouldUpdate=!1,L(e,r),r}function q(e){var t;if((!(t=e).end||!0!==t.end.val)&&function(e){return!0===e.depsMet||function(e){return e.depsMet=e.deps.every((function(e){return e.hasVal})),e.depsMet}(e)}(e))if(void 0===a){a=e,e.depsChanged&&(e.fnArgs[e.fnArgs.length-1]=e.depsChanged);var r=e.fn.apply(e.fn,e.fnArgs);void 0!==r&&e(r),a=void 0,void 0!==e.depsChanged&&(e.depsChanged=[]),e.shouldUpdate=!1,!1===(c||l)&&E(),function(e){return e.listeners.some((function(e){return e.shouldUpdate}))}(e)&&(l?e.listeners.forEach((function(e){e.shouldUpdate&&R(q,e)})):e(e.val))}else R(q,e)}function k(e){var t,r=e.listeners;if(!1===e.queued){for(e.queued=!0,t=0;t<r.length;++t)k(r[t]);i[++u]=e}}function R(e,t){o.push(t),t.updaters.push(e),t.shouldUpdate=!0}function E(){for(c=!0;o.length>0;){var e=o.shift(),t=e.updaters.shift();t&&e.shouldUpdate&&t(e)}c=!1}function S(e,t){t.val=e,t.hasVal=!0,void 0===a?(l=!0,function(e){var t,r,n,a=e.listeners;for(t=0;t<a.length;++t)(n=a[t]).end===e?j(n):(void 0!==n.depsChanged&&n.depsChanged.push(e),n.shouldUpdate=!0,k(n));for(;u>=0;--u)!0===(r=i[u]).shouldUpdate&&q(r),r.queued=!1}(t),o.length>0&&E(),l=!1):a===t?function(e,t){var r,n;for(r=0;r<t.length;++r)(n=t[r]).end!==e?(void 0!==n.depsChanged&&n.depsChanged.push(e),n.shouldUpdate=!0):j(n)}(t,t.listeners):R((function(t){S(e,t)}),t)}function L(e,t){for(var r=0;r<e.length;++r)e[r].listeners.push(t)}function O(e,t){var r=t.indexOf(e);t[r]=t[t.length-1],t.length--}function T(e){for(var t=0;t<e.deps.length;++t)O(e,e.deps[t].listeners);e.deps.length=0}function j(e){void 0!==e.deps&&T(e),void 0!==e.end&&T(e.end)}function A(){}s.stream=function(e){var t=$([],n),r=w();return r.end=t,r.fnArgs=[],t.listeners.push(r),arguments.length>0&&r(e),r},s.stream["fantasy-land/of"]=s.stream.of=s.stream,s.combine=r(2,f),s.isStream=function(e){return!!((t=e)&&t.constructor&&t.call&&t.apply)&&"hasVal"in e;var t},s.immediate=function(e){return!1===e.depsMet&&(e.depsMet=!0,q(e)),e},s.endsOn=function(e,t){return T(t.end),e.listeners.push(t.end),t.end.deps.push(e),t},s.map=r(2,d),s.chain=r(2,g),s.ap=r(2,y),s.on=r(2,(function(e,t){return f((function(t){e(t.val)}),[t])})),s.scan=r(3,(function(e,t,r){var n=f((function(r,n){n(t=e(t,r.val))}),[r]);return n.hasVal||n(t),n})),s.merge=r(2,(function(e,t){var r=s.immediate(f((function(e,t,r,n){n[0]?r(n[0]()):e.hasVal?r(e.val):t.hasVal&&r(t.val)}),[e,t]));return s.endsOn(f((function(){return!0}),[e.end,t.end]),r),r})),s.transduce=r(2,(function(e,t){return e=e(new A),f((function(t,r){var n=e["@@transducer/step"](void 0,t.val);return n&&!0===n["@@transducer/reduced"]?(r.end(!0),n["@@transducer/value"]):n}),[t])})),s.curryN=r,s.fromPromise=function(e){var t=s.stream();return e.then((function(e){t(e),t.end(!0)})),t},s.flattenPromise=function(e){return f((function(e,t){e().then(t)}),[e])},A.prototype["@@transducer/init"]=function(){},A.prototype["@@transducer/result"]=function(){},A.prototype["@@transducer/step"]=function(e,t){return t},e.exports=s})),parcelRequire.register("jUFbb",(function(e,t){var r=parcelRequire("jrOAX"),n=parcelRequire("7sJyH"),a=parcelRequire("7IBWQ"),o=parcelRequire("69ymr"),i=a((function(e,t){return 1===e?n(t):r(e,o(e,[],t))}));e.exports=i})),parcelRequire.register("jrOAX",(function(e,t){e.exports=function(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,r){return t.apply(this,arguments)};case 3:return function(e,r,n){return t.apply(this,arguments)};case 4:return function(e,r,n,a){return t.apply(this,arguments)};case 5:return function(e,r,n,a,o){return t.apply(this,arguments)};case 6:return function(e,r,n,a,o,i){return t.apply(this,arguments)};case 7:return function(e,r,n,a,o,i,u){return t.apply(this,arguments)};case 8:return function(e,r,n,a,o,i,u,c){return t.apply(this,arguments)};case 9:return function(e,r,n,a,o,i,u,c,l){return t.apply(this,arguments)};case 10:return function(e,r,n,a,o,i,u,c,l,s){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}})),parcelRequire.register("7sJyH",(function(e,t){var r=parcelRequire("5bhFk");e.exports=function(e){return function t(n){return 0===arguments.length||r(n)?t:e.apply(this,arguments)}}})),parcelRequire.register("5bhFk",(function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]}})),parcelRequire.register("7IBWQ",(function(e,t){var r=parcelRequire("7sJyH"),n=parcelRequire("5bhFk");e.exports=function(e){return function t(a,o){switch(arguments.length){case 0:return t;case 1:return n(a)?t:r((function(t){return e(a,t)}));default:return n(a)&&n(o)?t:n(a)?r((function(t){return e(t,o)})):n(o)?r((function(t){return e(a,t)})):e(a,o)}}}})),parcelRequire.register("69ymr",(function(e,t){var r=parcelRequire("jrOAX"),n=parcelRequire("5bhFk");e.exports=function e(t,a,o){return function(){for(var i=[],u=0,c=t,l=0;l<a.length||u<arguments.length;){var s;l<a.length&&(!n(a[l])||u>=arguments.length)?s=a[l]:(s=arguments[u],u+=1),i[l]=s,n(s)||(c-=1),l+=1}return c<=0?o.apply(this,i):r(c,e(t,i,o))}}})),parcelRequire.register("8b7cE",(function(e,t){var r;$parcel$export(e.exports,"dropRepeats",(function(){return r}),(function(e){return r=e}));var n=parcelRequire("ln5rx");function a(e,t){var r;return n.combine((function(t,n){n.hasVal&&e(t.val,r)||(n(t.val),r=t.val)}),[t])}function o(e,t){return e===t}r=function(e){return a(o,e)},n.curryN(2,a)})),parcelRequire.register("d2lOa",(function(e,t){e.exports="-----BEGIN PGP PUBLIC KEY BLOCK-----\n\nxjMEYf8cKBYJKwYBBAHaRw8BAQdAHE6JBN/PRr/7ZLFhb5vLLrKSWJLXxNpG\nMbqVZccBAL3NOVdpY2tlZFdpdGNoNkBwcm90b25tYWlsLmNvbSA8V2lja2Vk\nV2l0Y2g2QHByb3Rvbm1haWwuY29tPsKPBBAWCgAgBQJh/xwoBgsJBwgDAgQV\nCAoCBBYCAQACGQECGwMCHgEAIQkQ4GeD5hotLgUWIQTKTXvpnWFrweQb09Dg\nZ4PmGi0uBSUaAP44QKmwpTeK+oioSWo3qY4TpfXcz7d4qi49tmADmb6G8QEA\n1FEUMJllc9Qq3xiACBY/O5XIXsAlLlu1cAe2vkNcKgTOOARh/xwoEgorBgEE\nAZdVAQUBAQdAPj3oEz8PeUhGvxXZ4CYy8ejL/SiS8gyWPlAI2f2RWn4DAQgH\nwngEGBYIAAkFAmH/HCgCGwwAIQkQ4GeD5hotLgUWIQTKTXvpnWFrweQb09Dg\nZ4PmGi0uBf9zAP9tggzcytwB2XGu2c50Pfa0IZSEEiWnhN2A7uQRtqAKNAD/\nRQPybgO7rHpk9XjjHvqk87NYWAkj2kCCgK5rK+cYjwk=\n=9jDO\n-----END PGP PUBLIC KEY BLOCK-----\n"})),parcelRequire.register("kalkp",(function(e,t){e.exports=function(e){var t=function(e,t){S.push({link:e,changeType:t})},c=function(e,t){S.push({node:e,changeType:t})},l=function(e,t){if(void 0===e)throw new Error("Invalid node identifier");T();var r=s(e);return r?(r.data=t,O(r,"update")):(r=new a(e,t),O(r,"add")),$.set(e,r),j(),r},s=function(e){return $.get(e)},f=function(e){var t=s(e);if(!t)return!1;T();var r=t.links;if(r){t.links=null;for(var n=0;n<r.length;++n)v(r[n])}return $.delete(e),O(t,"remove"),j(),!0},d=function(){return $.size},p=function(){return q.length},v=function(e){if(!e)return!1;var t=n(e,q);if(t<0)return!1;T(),q.splice(t,1);var r=s(e.fromId),a=s(e.toId);return r&&(t=n(e,r.links))>=0&&r.links.splice(t,1),a&&(t=n(e,a.links))>=0&&a.links.splice(t,1),L(e,"remove"),j(),!0},h=function(e,t){var r,n=s(e);if(!n||!n.links)return null;for(r=0;r<n.links.length;++r){var a=n.links[r];if(a.fromId===e&&a.toId===t)return a}return null},g=function(e,t,r){for(var n=0;n<e.length;++n){var a=e[n],o=a.fromId===t?a.toId:a.fromId;if(r($.get(o),a))return!0}},y=function(e,t,r){for(var n=0;n<e.length;++n){var a=e[n];if(a.fromId===t&&r($.get(a.toId),a))return!0}},m=function(){},b=function(){R+=1},x=function(){0===(R-=1)&&S.length>0&&(A.fire("changed",S),S.length=0)},w=function(e){if("function"!=typeof e)throw new Error("Function is expected to iterate over graph nodes. You passed "+e);for(var t=$.values(),r=t.next();!r.done;){if(e(r.value))return!0;r=t.next()}};"uniqueLinkId"in(e=e||{})&&(console.warn("ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\nUse `multigraph` option instead\n","\n","Note: there is also change in default behavior: From now on each graph\nis considered to be not a multigraph by default (each edge is unique)."),e.multigraph=e.uniqueLinkId);void 0===e.multigraph&&(e.multigraph=!1);if("function"!=typeof Map)throw new Error("ngraph.graph requires `Map` to be defined. Please polyfill it before using ngraph");var $=new Map,q=[],k={},R=0,E=e.multigraph?function(e,t,r){var n=u(e,t),a=k.hasOwnProperty(n);if(a||h(e,t)){a||(k[n]=0);var o="@"+ ++k[n];n=u(e+o,t+o)}return new i(e,t,r,n)}:function(e,t,r){return new i(e,t,r,u(e,t))},S=[],L=m,O=m,T=m,j=m,A={addNode:l,addLink:function(e,t,r){T();var n=s(e)||l(e),a=s(t)||l(t),i=E(e,t,r);return q.push(i),o(n,i),e!==t&&o(a,i),L(i,"add"),j(),i},removeLink:v,removeNode:f,getNode:s,getNodeCount:d,getLinkCount:p,getLinksCount:p,getNodesCount:d,getLinks:function(e){var t=s(e);return t?t.links:null},forEachNode:w,forEachLinkedNode:function(e,t,r){var n=s(e);if(n&&n.links&&"function"==typeof t)return r?y(n.links,e,t):g(n.links,e,t)},forEachLink:function(e){var t,r;if("function"==typeof e)for(t=0,r=q.length;t<r;++t)e(q[t])},beginUpdate:T,endUpdate:j,clear:function(){T(),w((function(e){f(e.id)})),j()},hasLink:h,hasNode:s,getLink:h};return r(A),function(){var e=A.on;function r(){return A.beginUpdate=T=b,A.endUpdate=j=x,L=t,O=c,A.on=e,e.apply(A,arguments)}A.on=r}(),A};var r=parcelRequire("5CkbI");function n(e,t){if(!t)return-1;if(t.indexOf)return t.indexOf(e);var r,n=t.length;for(r=0;r<n;r+=1)if(t[r]===e)return r;return-1}function a(e,t){this.id=e,this.links=null,this.data=t}function o(e,t){e.links?e.links.push(t):e.links=[t]}function i(e,t,r,n){this.fromId=e,this.toId=t,this.data=r,this.id=n}function u(e,t){return e.toString()+" "+t.toString()}})),parcelRequire.register("5CkbI",(function(e,t){e.exports=function(e){!function(e){if(!e)throw new Error("Eventify cannot use falsy object as events subject");for(var t=["on","fire","off"],r=0;r<t.length;++r)if(e.hasOwnProperty(t[r]))throw new Error("Subject cannot be eventified, since it already has property '"+t[r]+"'")}(e);var t=function(e){var t=Object.create(null);return{on:function(r,n,a){if("function"!=typeof n)throw new Error("callback is expected to be a function");var o=t[r];return o||(o=t[r]=[]),o.push({callback:n,ctx:a}),e},off:function(r,n){if(void 0===r)return t=Object.create(null),e;if(t[r])if("function"!=typeof n)delete t[r];else for(var a=t[r],o=0;o<a.length;++o)a[o].callback===n&&a.splice(o,1);return e},fire:function(r){var n,a=t[r];if(!a)return e;arguments.length>1&&(n=Array.prototype.splice.call(arguments,1));for(var o=0;o<a.length;++o){var i=a[o];i.callback.apply(i.ctx,n)}return e}}}(e);return e.on=t.on,e.off=t.off,e.fire=t.fire,e}}));var $8c57236fa3923251$exports={};parcelRequire("digC3").register(JSON.parse('{"jaZFP":"index.f25286fb.js","cvggw":"openpgp.min.671dbe5c.js"}')),parcelRequire("7EHRQ")})();
//# sourceMappingURL=index.f25286fb.js.map
